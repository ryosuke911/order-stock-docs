# 発注詳細画面

## 基本情報
| 項目 | 内容 |
|------|------|
| ID | SCR-058 |
| 分類 | 発注管理 |
| 概要 | 発注データの詳細情報を表示する画面。 |

## 構成要素
発注ID、商品コード、商品名、発注数量、サプライヤー、納期、発注日、ステータス、発注データ更新画面へのリンク、サプライヤー検索画面へのリンク、過去発注履歴参照画面へのリンク

## 操作手順
1. 発注データの詳細情報を確認。
2. 必要に応じて発注データ更新画面、サプライヤー検索画面、過去発注履歴参照画面へ遷移。

## アクセス権限
| 項目 | 内容 |
|------|------|
| 利用者 | 購買担当者 |
| 権限 | loged-in user |

## 関連ファイル
| 項目 | 内容 |
|------|------|
| ファイル名 | /orders/[orderId]/detail.tsx |
| 入力 | [{table:"orders",items:["order_id","product_code","order_quantity","supplier","delivery_date","order_date","order_status","order_supplier"]},{table:"products", items:["product_name"]}] |
| 出力 | [] |
| 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\", \"Navigation.tsx\"] |

## 入力項目の詳細仕様
| フィールド | 必須 | 型 | 制限 |
|------------|------|-----|------|
| 発注基本情報 | - | テーブル（表示のみ） | - |
| - 発注ID | - | テキスト（表示のみ） | - |
| - 発注日 | - | 日付（表示のみ） | YYYY/MM/DD形式 |
| - 発注状況 | - | テキスト（表示のみ） | - |
| - 承認状況 | - | テキスト（表示のみ） | - |
| サプライヤー情報 | - | テーブル（表示のみ） | - |
| - サプライヤーコード | - | テキスト（表示のみ） | - |
| - サプライヤー名 | - | テキスト（表示のみ） | - |
| - 担当者名 | - | テキスト（表示のみ） | - |
| - 連絡先 | - | テキスト（表示のみ） | - |
| 商品情報 | - | テーブル（表示のみ） | - |
| - 商品コード | - | テキスト（表示のみ） | - |
| - 商品名 | - | テキスト（表示のみ） | - |
| - 発注数量 | - | 数値（表示のみ） | - |
| - 単価 | - | 数値（表示のみ） | カンマ区切り |
| - 金額 | - | 数値（表示のみ） | カンマ区切り |
| 納期情報 | - | テーブル（表示のみ） | - |
| - 希望納期 | - | 日付（表示のみ） | YYYY/MM/DD形式 |
| - 確定納期 | - | 日付（表示のみ） | YYYY/MM/DD形式 |
| 更新ボタン | - | ボタン | 発注状況が「未承認」の場合のみ表示 |
| 承認依頼ボタン | - | ボタン | 発注状況が「未承認」の場合のみ表示 |
| 発注書生成ボタン | - | ボタン | 発注状況が「承認済」の場合のみ表示 |
| 履歴表示ボタン | - | ボタン | クリック可能状態であること |

## 入力値の検証ルール
1. 表示データ
   - データ表示整合性チェック
   - 表示データの完全性チェック
2. ボタン操作
   - ユーザー権限チェック
   - 発注状況に応じた操作可否チェック
3. 画面遷移
   - 遷移先画面の権限チェック
   - データ整合性チェック

## エラーメッセージ一覧
| エラー内容 | メッセージ |
|------------|------------|
| データ取得エラー | 「発注データの取得に失敗しました」 |
| 権限エラー | 「この機能の利用権限がありません」 |
| 更新不可エラー | 「この発注データは更新できません」 |
| 承認依頼不可エラー | 「この発注データは承認依頼できません」 |
| 発注書生成不可エラー | 「この発注データは発注書を生成できません」 |
| システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |

## 画面遷移
| アクション | 遷移先 |
|------------|--------|
| 更新ボタン押下 | 発注データ更新画面 |
| 承認依頼ボタン押下 | 発注承認依頼画面 |
| 発注書生成ボタン押下 | 発注書自動生成画面 |
| 履歴表示ボタン押下 | 発注履歴画面 |
| キャンセルボタン押下 | 発注状況照会画面 |

## 更新履歴
| 更新日 | 更新内容 | 更新者 |
|--------|----------|--------|
| 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
