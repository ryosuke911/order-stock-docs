# ユーザー登録画面

## 基本情報
| 項目 | 内容 |
|------|------|
| ID | SCR-046 |
| 分類 | アクセス権限管理 |
| 概要 | システム利用者のユーザーアカウントを登録する画面。 |

## 構成要素
ユーザーID入力フォーム、パスワード入力フォーム、権限選択ドロップダウン、登録ボタン

## 操作手順
1. ユーザーIDを入力します。
2. パスワードを入力します。
3. 権限をドロップダウンから選択します。
4. 登録ボタンをクリックします。

## アクセス権限
| 項目 | 内容 |
|------|------|
| 利用者 | 管理者 |
| 権限 | loged-in user |

## 関連ファイル
| 項目 | 内容 |
|------|------|
| ファイル名 | /access-control/register-user.tsx |
| 入力 | 無し |
| 出力 | [{table:"users",items:["user_id","username","password","role"]}] |
| 共通コンポーネントファイル | ヘッダー、フッター、サイドメニュー |

## 入力項目の詳細仕様
| フィールド | 必須 | 型 | 制限 |
|------------|------|-----|------|
| ユーザーID | ○ | テキスト入力 | 半角英数字、4文字以上20文字以内 |
| パスワード | ○ | パスワード入力 | 半角英数字記号、8文字以上32文字以内、英大文字・小文字・数字を各1文字以上含む |
| パスワード（確認） | ○ | パスワード入力 | パスワードと同一であること |
| 権限 | ○ | ドロップダウン | 以下から選択：「管理者」「在庫管理担当者」「購買担当者」「閲覧者」 |
| メールアドレス | ○ | テキスト入力 | メールアドレス形式 |
| 氏名 | ○ | テキスト入力 | 全角文字、1文字以上50文字以内 |
| 所属部署 | ○ | ドロップダウン | 登録済み部署から選択 |
| 登録ボタン | - | ボタン | クリック可能状態であること |

## 入力値の検証ルール
1. ユーザーID
   - 必須入力チェック
   - 半角英数字チェック
   - 文字数チェック（4-20文字）
   - 重複チェック
2. パスワード
   - 必須入力チェック
   - 文字種チェック
   - 文字数チェック（8-32文字）
   - 強度チェック
3. パスワード（確認）
   - 必須入力チェック
   - 一致チェック
4. 権限
   - 必須選択チェック
   - 選択値の有効性チェック
5. メールアドレス
   - 必須入力チェック
   - 形式チェック
   - 重複チェック
6. 氏名
   - 必須入力チェック
   - 文字数チェック（1-50文字）
7. 所属部署
   - 必須選択チェック
   - 選択値の有効性チェック

## エラーメッセージ一覧
| エラー内容 | メッセージ |
|------------|------------|
| ユーザーID未入力 | 「ユーザーIDを入力してください」 |
| ユーザーID形式不正 | 「ユーザーIDは半角英数字で入力してください」 |
| ユーザーID文字数不正 | 「ユーザーIDは4文字以上20文字以内で入力してください」 |
| ユーザーID重複 | 「このユーザーIDは既に使用されています」 |
| パスワード未入力 | 「パスワードを入力してください」 |
| パスワード形式不正 | 「パスワードは英大文字・小文字・数字をそれぞれ1文字以上含む必要があります」 |
| パスワード文字数不正 | 「パスワードは8文字以上32文字以内で入力してください」 |
| パスワード不一致 | 「パスワードが一致しません」 |
| 権限未選択 | 「権限を選択してください」 |
| メールアドレス未入力 | 「メールアドレスを入力してください」 |
| メールアドレス形式不正 | 「正しいメールアドレスを入力してください」 |
| メールアドレス重複 | 「このメールアドレスは既に使用されています」 |
| 氏名未入力 | 「氏名を入力してください」 |
| 氏名文字数不正 | 「氏名は50文字以内で入力してください」 |
| 所属部署未選択 | 「所属部署を選択してください」 |
| 登録エラー | 「ユーザーの登録に失敗しました」 |
| 権限エラー | 「この機能の利用権限がありません」 |
| システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |

## 画面遷移
| アクション | 遷移先 |
|------------|--------|
| 登録ボタン押下（成功時） | ユーザー登録完了画面 |
| 登録ボタン押下（失敗時） | 同画面（エラーメッセージ表示） |
| キャンセルボタン押下 | ユーザー一覧画面 |

## 更新履歴
| 更新日 | 更新内容 | 更新者 |
|--------|----------|--------|
| 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
