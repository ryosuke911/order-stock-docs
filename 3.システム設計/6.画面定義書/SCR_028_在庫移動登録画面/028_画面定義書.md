# 在庫移動登録画面

## 基本情報
| 項目 | 内容 |
|------|------|
| ID | SCR-028 |
| 分類 | 在庫移動管理 |
| 概要 | 倉庫間の在庫移動情報を登録する画面 |

## 構成要素
商品コード入力欄、移動数量入力欄、移動元倉庫選択、移動先倉庫選択、移動日選択、登録ボタン、クリアボタン

## 操作手順
商品コード、移動数量、移動元倉庫、移動先倉庫、移動日を選択し、登録ボタンをクリック。入力内容をクリアする場合はクリアボタンをクリック。

## アクセス権限
| 項目 | 内容 |
|------|------|
| 利用者 | 在庫管理担当者 |
| 権限 | loged-in user |

## 関連ファイル
| 項目 | 内容 |
|------|------|
| ファイル名 | inventoryMovementRegistration.tsx |
| 入力 | [{table:"products",items:["product_code","product_name"]}, {table:"inventory",items:["warehouse"]}] |
| 出力 | [{table:"inventory_movements",items:["product_code","quantity","source_warehouse","destination_warehouse","movement_date"]}] |
| 共通コンポーネントファイル | TopBar.tsx, Footer.tsx |

## 入力項目の詳細仕様
| フィールド | 必須 | 型 | 制限 |
|------------|------|-----|------|
| 商品コード | ○ | テキスト入力 | 半角英数字、最大20文字 |
| 商品名 | - | テキスト（表示のみ） | - |
| 移動数量 | ○ | 数値入力 | 1以上の整数、在庫数以下 |
| 移動元倉庫 | ○ | 選択式（ドロップダウン） | 登録済み倉庫から選択 |
| 移動先倉庫 | ○ | 選択式（ドロップダウン） | 登録済み倉庫から選択（移動元以外） |
| 移動日 | ○ | 日付 | 本日以前の日付 |
| 登録ボタン | - | ボタン | クリック可能状態であること |
| クリアボタン | - | ボタン | クリック可能状態であること |

## 入力値の検証ルール
1. 商品コード
   - 必須入力チェック
   - 半角英数字チェック
   - 最大文字数チェック
   - 商品コード存在チェック
2. 移動数量
   - 必須入力チェック
   - 数値チェック
   - 1以上チェック
   - 在庫数以下チェック
3. 移動元倉庫
   - 必須選択チェック
   - 移動先倉庫と異なるチェック
4. 移動先倉庫
   - 必須選択チェック
   - 移動元倉庫と異なるチェック
5. 移動日
   - 必須入力チェック
   - 日付形式チェック
   - 本日以前の日付チェック

## エラーメッセージ一覧
| エラー内容 | メッセージ |
|------------|------------|
| 商品コード未入力 | 「商品コードを入力してください」 |
| 商品コード形式 | 「商品コードは半角英数字で入力してください」 |
| 商品コード存在 | 「入力された商品コードは存在しません」 |
| 移動数量未入力 | 「移動数量を入力してください」 |
| 移動数量範囲 | 「移動数量は1以上の整数を入力してください」 |
| 在庫数超過 | 「移動数量が在庫数を超えています」 |
| 倉庫未選択 | 「倉庫を選択してください」 |
| 倉庫重複 | 「移動元と移動先の倉庫が同じです」 |
| 移動日未入力 | 「移動日を入力してください」 |
| 移動日範囲 | 「移動日は本日以前の日付を指定してください」 |
| 権限エラー | 「この機能の利用権限がありません」 |
| システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |

## 画面遷移
| アクション | 遷移先 |
|------------|--------|
| 登録ボタン押下 | 在庫移動登録確認ダイアログ |
| クリアボタン押下 | 同画面（入力内容クリア） |
| キャンセルボタン押下 | 在庫管理メニュー画面 |

## 更新履歴
| 更新日 | 更新内容 | 更新者 |
|--------|----------|--------|
| 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
