# 過去発注履歴参照画面

## 基本情報
| 項目 | 内容 |
|------|------|
| ID | SCR-067 |
| 分類 | 発注管理 |
| 概要 | 過去の発注履歴を検索・参照する画面。 |

## 構成要素
商品コード検索フィールド、期間指定フィールド、検索ボタン

## 操作手順
1. 検索条件を入力。
2. 検索ボタンをクリック。

## アクセス権限
| 項目 | 内容 |
|------|------|
| 利用者 | 購買担当者 |
| 権限 | loged-in user |

## 関連ファイル
| 項目 | 内容 |
|------|------|
| ファイル名 | past-order-history.tsx |
| 入力 | [] |
| 出力 | [] |
| 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\", \"Navigation.tsx\"] |

## 入力項目の詳細仕様
| フィールド | 必須 | 型 | 制限 |
|------------|------|-----|------|
| 商品情報 | - | グループ | - |
| - 商品コード | - | テキスト入力 | 半角英数字、最大20文字 |
| - 商品名 | - | テキスト入力 | 最大100文字 |
| サプライヤー情報 | - | グループ | - |
| - サプライヤーコード | - | テキスト入力 | 半角英数字、最大20文字 |
| - サプライヤー名 | - | テキスト入力 | 最大100文字 |
| 期間指定 | - | グループ | - |
| - 開始日 | - | 日付入力 | YYYY/MM/DD形式 |
| - 終了日 | - | 日付入力 | YYYY/MM/DD形式 |
| 発注状況 | - | ドロップダウン | 以下から選択：「全て」「未承認」「承認済」「発注済」「納品済」「キャンセル」 |
| 検索ボタン | - | ボタン | クリック可能状態であること |
| クリアボタン | - | ボタン | クリック可能状態であること |

## 入力値の検証ルール
1. 商品コード
   - 半角英数字チェック
   - 文字数チェック（最大20文字）
2. サプライヤーコード
   - 半角英数字チェック
   - 文字数チェック（最大20文字）
3. 期間指定
   - 日付形式チェック
   - 日付範囲の妥当性チェック（開始日 ≤ 終了日）
4. 検索操作
   - ユーザー権限チェック
   - 検索条件の組み合わせチェック

## エラーメッセージ一覧
| エラー内容 | メッセージ |
|------------|------------|
| 商品コード形式不正 | 「商品コードは半角英数字で入力してください」 |
| 商品コード文字数超過 | 「商品コードは20文字以内で入力してください」 |
| サプライヤーコード形式不正 | 「サプライヤーコードは半角英数字で入力してください」 |
| サプライヤーコード文字数超過 | 「サプライヤーコードは20文字以内で入力してください」 |
| 日付形式不正 | 「正しい日付形式で入力してください」 |
| 日付範囲不正 | 「終了日は開始日以降の日付を指定してください」 |
| 検索条件未入力 | 「検索条件を1つ以上入力してください」 |
| データ取得エラー | 「発注履歴データの取得に失敗しました」 |
| 権限エラー | 「この機能の利用権限がありません」 |
| システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |

## 画面遷移
| アクション | 遷移先 |
|------------|--------|
| 検索ボタン押下 | 過去発注履歴一覧画面（検索結果表示） |
| クリアボタン押下 | 同画面（検索条件クリア） |
| キャンセルボタン押下 | 発注状況照会画面 |

## 更新履歴
| 更新日 | 更新内容 | 更新者 |
|--------|----------|--------|
| 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
