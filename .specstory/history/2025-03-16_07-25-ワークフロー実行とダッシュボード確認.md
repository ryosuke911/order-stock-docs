<!-- Generated by SpecStory -->

# ワークフロー実行とダッシュボード確認 (2025-03-16 16:25:29)

_**User**_

ワークフローファイル@screen_definition_workflow.md を実行して。@SCR_016_ダッシュボード表示_発注状況 から025まで。

---

_**Assistant**_

承知しました。画面定義書の更新ワークフローに従って、SCR_016_ダッシュボード表示_発注状況の画面定義書を確認し、必要な情報を追加していきます。

まず、現在の画面定義書の内容を確認させていただきます。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_016_ダッシュボード表示_発注状況/016_画面定義書.md

---

既存の画面定義書を確認しました。ワークフローに従って、4つのセクションを追加していきます。

---

```diff
  | 出力 | [] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 発注状況表示 | - | テーブル | ソート可能、ページング機能あり |
+ | 発注数量グラフ表示 | - | グラフ | 期間別の発注数量を表示 |
+ 
+ ## 入力値の検証ルール
+ 1. 発注状況表示
+    - ユーザー権限に応じた表示チェック
+    - データ取得時の整合性チェック
+ 2. 発注数量グラフ表示
+    - データ取得時の整合性チェック
+    - グラフ表示期間の範囲チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | データ取得エラー | 「データの取得に失敗しました。再度実行してください」 |
+ | 権限エラー | 「この情報の閲覧権限がありません」 |
+ | 表示期間エラー | 「有効な表示期間を選択してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 発注詳細リンク押下 | 発注詳細画面 |
+ | メニュー選択 | 各メニュー画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

画面定義書の更新が完了しました。以下の点について確認を行いました：

1. 既存の5つのセクションは変更せずに維持
2. 4つの新しいセクションを追加
   - 入力項目の詳細仕様
   - 入力値の検証ルール
   - エラーメッセージ一覧
   - 画面遷移
3. ダッシュボード画面の特性に合わせた内容を記載
   - 表示要素（テーブル、グラフ）の定義
   - 適切な検証ルール
   - ユーザーフレンドリーなエラーメッセージ
   - 関連画面への遷移パス
4. 更新履歴の記録

この更新により、画面定義書はより詳細な仕様と運用ルールを含むものとなりました。次の画面定義書の更新作業に進めますが、どの画面の更新を行いましょうか？

---

_**User**_

@SCR_017_発注推奨アラート @SCR_018_在庫データCSV出力画面 @SCR_019_発注データCSV出力画面 @SCR_020_在庫データExcel出力画面 @SCR_021_発注データExcel出力画面 @SCR_022_在庫評価レポート出力画面 @SCR_023_在庫管理メニュー @SCR_024_入庫登録確認ダイアログ @SCR_025_入庫登録完了画面 を順番にお願い。

さっきと同じように @screen_definition_workflow.md に従ってね

---

_**Assistant**_

承知しました。順番に各画面定義書を更新していきます。

まず、SCR_017_発注推奨アラートから始めましょう。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_017_発注推奨アラート/017_画面定義書.md

---

```diff
  | 出力 | [] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 発注推奨アラートメッセージ | - | テキスト（表示のみ） | - |
+ | 発注データ登録画面へのリンク | - | リンク | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. 発注推奨アラートメッセージ
+    - データ取得時の整合性チェック
+    - ユーザー権限に応じた表示チェック
+ 2. 発注データ登録画面へのリンク
+    - リンクのクリック可能状態チェック
+    - ユーザー権限チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | データ取得エラー | 「アラート情報の取得に失敗しました。再度実行してください」 |
+ | 権限エラー | 「この情報の閲覧権限がありません」 |
+ | リンクエラー | 「現在この機能は利用できません」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 発注データ登録リンク押下 | 発注データ登録画面 |
+ | アラート閉じるボタン押下 | 元の画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

次に、SCR_018_在庫データCSV出力画面を更新します。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_018_在庫データCSV出力画面/018_画面定義書.md

---

```diff
  | 出力 | null |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 倉庫 | - | 選択式（ドロップダウン） | 登録済み倉庫から選択 |
+ | 商品カテゴリー | - | 選択式（ドロップダウン） | 登録済みカテゴリーから選択 |
+ | 期間（開始） | - | 日付 | 本日以前の日付 |
+ | 期間（終了） | - | 日付 | 開始日以降の日付 |
+ | CSVファイル生成ボタン | - | ボタン | クリック可能状態であること |
+ | ダウンロードボタン | - | ボタン | CSVファイル生成後にクリック可能 |
+ 
+ ## 入力値の検証ルール
+ 1. 期間（開始）
+    - 日付形式チェック
+    - 本日以前の日付チェック
+ 2. 期間（終了）
+    - 日付形式チェック
+    - 開始日以降の日付チェック
+ 3. CSVファイル生成
+    - データ取得時の整合性チェック
+    - ユーザー権限チェック
+ 4. ダウンロード
+    - ファイル生成状態チェック
+    - ユーザー権限チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | 日付形式エラー | 「正しい日付形式で入力してください」 |
+ | 期間範囲エラー | 「終了日は開始日以降の日付を指定してください」 |
+ | データ取得エラー | 「データの取得に失敗しました。再度実行してください」 |
+ | ファイル生成エラー | 「CSVファイルの生成に失敗しました。再度実行してください」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | CSVファイル生成ボタン押下 | 同画面（ダウンロードボタン有効化） |
+ | ダウンロードボタン押下 | ファイルダウンロード |
+ | キャンセルボタン押下 | 在庫管理メニュー画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

次に、SCR_019_発注データCSV出力画面を更新します。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_019_発注データCSV出力画面/019_画面定義書.md

---

```diff
  | 出力 | null |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | サプライヤー | - | 選択式（ドロップダウン） | 登録済みサプライヤーから選択 |
+ | 商品 | - | 選択式（ドロップダウン） | 登録済み商品から選択 |
+ | 期間（開始） | - | 日付 | 本日以前の日付 |
+ | 期間（終了） | - | 日付 | 開始日以降の日付 |
+ | 発注状態 | - | 選択式（ドロップダウン） | 全て/発注中/納品済み/キャンセル |
+ | CSVファイル生成ボタン | - | ボタン | クリック可能状態であること |
+ | ダウンロードボタン | - | ボタン | CSVファイル生成後にクリック可能 |
+ 
+ ## 入力値の検証ルール
+ 1. 期間（開始）
+    - 日付形式チェック
+    - 本日以前の日付チェック
+ 2. 期間（終了）
+    - 日付形式チェック
+    - 開始日以降の日付チェック
+ 3. CSVファイル生成
+    - データ取得時の整合性チェック
+    - ユーザー権限チェック
+ 4. ダウンロード
+    - ファイル生成状態チェック
+    - ユーザー権限チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | 日付形式エラー | 「正しい日付形式で入力してください」 |
+ | 期間範囲エラー | 「終了日は開始日以降の日付を指定してください」 |
+ | データ取得エラー | 「データの取得に失敗しました。再度実行してください」 |
+ | ファイル生成エラー | 「CSVファイルの生成に失敗しました。再度実行してください」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | CSVファイル生成ボタン押下 | 同画面（ダウンロードボタン有効化） |
+ | ダウンロードボタン押下 | ファイルダウンロード |
+ | キャンセルボタン押下 | 在庫管理メニュー画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

次に、SCR_020_在庫データExcel出力画面を更新します。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_020_在庫データExcel出力画面/020_画面定義書.md

---

```diff
  | 出力 | null |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 倉庫 | - | 選択式（ドロップダウン） | 登録済み倉庫から選択 |
+ | 商品カテゴリー | - | 選択式（ドロップダウン） | 登録済みカテゴリーから選択 |
+ | 期間（開始） | - | 日付 | 本日以前の日付 |
+ | 期間（終了） | - | 日付 | 開始日以降の日付 |
+ | テンプレート選択 | ○ | 選択式（ドロップダウン） | 標準/詳細/サマリー |
+ | Excelファイル生成ボタン | - | ボタン | クリック可能状態であること |
+ | ダウンロードボタン | - | ボタン | Excelファイル生成後にクリック可能 |
+ 
+ ## 入力値の検証ルール
+ 1. 期間（開始）
+    - 日付形式チェック
+    - 本日以前の日付チェック
+ 2. 期間（終了）
+    - 日付形式チェック
+    - 開始日以降の日付チェック
+ 3. テンプレート選択
+    - 必須選択チェック
+ 4. Excelファイル生成
+    - データ取得時の整合性チェック
+    - ユーザー権限チェック
+ 5. ダウンロード
+    - ファイル生成状態チェック
+    - ユーザー権限チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | テンプレート未選択 | 「出力テンプレートを選択してください」 |
+ | 日付形式エラー | 「正しい日付形式で入力してください」 |
+ | 期間範囲エラー | 「終了日は開始日以降の日付を指定してください」 |
+ | データ取得エラー | 「データの取得に失敗しました。再度実行してください」 |
+ | ファイル生成エラー | 「Excelファイルの生成に失敗しました。再度実行してください」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | Excelファイル生成ボタン押下 | 同画面（ダウンロードボタン有効化） |
+ | ダウンロードボタン押下 | ファイルダウンロード |
+ | キャンセルボタン押下 | 在庫管理メニュー画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

次に、SCR_021_発注データExcel出力画面を更新します。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_021_発注データExcel出力画面/021_画面定義書.md

---

```diff
  | 出力 | null |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | サプライヤー | - | 選択式（ドロップダウン） | 登録済みサプライヤーから選択 |
+ | 商品 | - | 選択式（ドロップダウン） | 登録済み商品から選択 |
+ | 期間（開始） | - | 日付 | 本日以前の日付 |
+ | 期間（終了） | - | 日付 | 開始日以降の日付 |
+ | 発注状態 | - | 選択式（ドロップダウン） | 全て/発注中/納品済み/キャンセル |
+ | テンプレート選択 | ○ | 選択式（ドロップダウン） | 標準/詳細/サマリー |
+ | Excelファイル生成ボタン | - | ボタン | クリック可能状態であること |
+ | ダウンロードボタン | - | ボタン | Excelファイル生成後にクリック可能 |
+ 
+ ## 入力値の検証ルール
+ 1. 期間（開始）
+    - 日付形式チェック
+    - 本日以前の日付チェック
+ 2. 期間（終了）
+    - 日付形式チェック
+    - 開始日以降の日付チェック
+ 3. テンプレート選択
+    - 必須選択チェック
+ 4. Excelファイル生成
+    - データ取得時の整合性チェック
+    - ユーザー権限チェック
+ 5. ダウンロード
+    - ファイル生成状態チェック
+    - ユーザー権限チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | テンプレート未選択 | 「出力テンプレートを選択してください」 |
+ | 日付形式エラー | 「正しい日付形式で入力してください」 |
+ | 期間範囲エラー | 「終了日は開始日以降の日付を指定してください」 |
+ | データ取得エラー | 「データの取得に失敗しました。再度実行してください」 |
+ | ファイル生成エラー | 「Excelファイルの生成に失敗しました。再度実行してください」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | Excelファイル生成ボタン押下 | 同画面（ダウンロードボタン有効化） |
+ | ダウンロードボタン押下 | ファイルダウンロード |
+ | キャンセルボタン押下 | 在庫管理メニュー画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

次に、SCR_022_在庫評価レポート出力画面を更新します。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_022_在庫評価レポート出力画面/022_画面定義書.md

---

```diff
  | 出力 | null |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 評価方法 | ○ | 選択式（ドロップダウン） | 先入先出法/総平均法/移動平均法 |
+ | 評価期間（開始） | ○ | 日付 | 本日以前の日付 |
+ | 評価期間（終了） | ○ | 日付 | 開始日以降の日付 |
+ | レポート生成ボタン | - | ボタン | クリック可能状態であること |
+ | レポート表示エリア | - | テーブル | ソート可能、ページング機能あり |
+ | PDFダウンロードボタン | - | ボタン | レポート生成後にクリック可能 |
+ 
+ ## 入力値の検証ルール
+ 1. 評価方法
+    - 必須選択チェック
+ 2. 評価期間（開始）
+    - 必須入力チェック
+    - 日付形式チェック
+    - 本日以前の日付チェック
+ 3. 評価期間（終了）
+    - 必須入力チェック
+    - 日付形式チェック
+    - 開始日以降の日付チェック
+ 4. レポート生成
+    - データ取得時の整合性チェック
+    - ユーザー権限チェック
+ 5. PDFダウンロード
+    - レポート生成状態チェック
+    - ユーザー権限チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | 評価方法未選択 | 「評価方法を選択してください」 |
+ | 期間未入力 | 「評価期間を入力してください」 |
+ | 日付形式エラー | 「正しい日付形式で入力してください」 |
+ | 期間範囲エラー | 「終了日は開始日以降の日付を指定してください」 |
+ | データ取得エラー | 「データの取得に失敗しました。再度実行してください」 |
+ | レポート生成エラー | 「レポートの生成に失敗しました。再度実行してください」 |
+ | PDF生成エラー | 「PDFファイルの生成に失敗しました。再度実行してください」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | レポート生成ボタン押下 | 同画面（レポート表示） |
+ | PDFダウンロードボタン押下 | ファイルダウンロード |
+ | キャンセルボタン押下 | 在庫管理メニュー画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

次に、SCR_023_在庫管理メニューを更新します。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_023_在庫管理メニュー/023_画面定義書.md

---

```diff
  | 出力 | null |
  | 共通コンポーネントファイル | TopBar.tsx, Footer.tsx |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 入庫登録ボタン | - | ボタン | クリック可能状態であること |
+ | 出庫登録ボタン | - | ボタン | クリック可能状態であること |
+ | 在庫移動登録ボタン | - | ボタン | クリック可能状態であること |
+ | 在庫調整登録ボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. 各ボタン
+    - ユーザー権限チェック
+    - 機能利用可能状態チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | 機能利用不可 | 「現在この機能は利用できません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 入庫登録ボタン押下 | 入庫登録画面 |
+ | 出庫登録ボタン押下 | 出庫登録画面 |
+ | 在庫移動登録ボタン押下 | 在庫移動登録画面 |
+ | 在庫調整登録ボタン押下 | 在庫調整登録画面 |
+ | ホームボタン押下 | ホーム画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

次に、SCR_024_入庫登録確認ダイアログを更新します。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_024_入庫登録確認ダイアログ/024_画面定義書.md

---

```diff
  | 出力 | null |
  | 共通コンポーネントファイル | null |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 登録内容表示 | - | テキスト（表示のみ） | - |
+ | はいボタン | - | ボタン | クリック可能状態であること |
+ | いいえボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. 登録内容表示
+    - データ表示整合性チェック
+ 2. はいボタン
+    - ユーザー権限チェック
+    - 登録可能状態チェック
+ 3. いいえボタン
+    - クリック可能状態チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | データ表示エラー | 「登録内容の表示に失敗しました。再度実行してください」 |
+ | 権限エラー | 「この操作の実行権限がありません」 |
+ | 登録不可エラー | 「現在登録を実行できません。しばらく待ってから再度実行してください」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | はいボタン押下 | 入庫登録完了画面 |
+ | いいえボタン押下 | 入庫登録画面（元の画面） |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

最後に、SCR_025_入庫登録完了画面を更新します。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_025_入庫登録完了画面/025_画面定義書.md

---

```diff
  | 出力 | null |
  | 共通コンポーネントファイル | TopBar.tsx, Footer.tsx |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 完了メッセージ | - | テキスト（表示のみ） | - |
+ | 登録内容表示 | - | テキスト（表示のみ） | - |
+ | 在庫管理メニューへボタン | - | ボタン | クリック可能状態であること |
+ | 新規入庫登録へボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. 完了メッセージ
+    - メッセージ表示整合性チェック
+ 2. 登録内容表示
+    - データ表示整合性チェック
+ 3. 各ボタン
+    - クリック可能状態チェック
+    - ユーザー権限チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | メッセージ表示エラー | 「メッセージの表示に失敗しました。再度実行してください」 |
+ | データ表示エラー | 「登録内容の表示に失敗しました。再度実行してください」 |
+ | 権限エラー | 「この操作の実行権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 在庫管理メニューへボタン押下 | 在庫管理メニュー画面 |
+ | 新規入庫登録へボタン押下 | 入庫登録画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

すべての画面定義書の更新が完了しました。各画面に対して以下の4つのセクションを追加しました：

1. 入力項目の詳細仕様
2. 入力値の検証ルール
3. エラーメッセージ一覧
4. 画面遷移

各画面の特性に応じて、必要な項目、検証ルール、エラーメッセージ、画面遷移を適切に定義しました。また、すべての画面で更新履歴を追加し、変更内容を記録しています。

これらの更新により、各画面の仕様がより詳細に定義され、開発者が実装する際の指針となります。また、テスト担当者にとっても、検証項目やエラーケースの確認に役立つ情報となっています。

他に必要な更新や確認したい点はございますか？

---

_**User**_

@SCR_026_出庫登録確認ダイアログ @SCR_027_出庫登録完了画面 @SCR_028_在庫移動登録画面 @SCR_029_在庫移動登録確認ダイアログ @SCR_030_在庫移動登録完了画面 @SCR_031_在庫調整登録画面 @SCR_032_在庫調整登録確認ダイアログ @SCR_033_在庫調整登録完了画面 @SCR_034_在庫マスタ登録 更新画面 @SCR_034_在庫マスタ登録更新画面 @SCR_035_在庫上限アラート通知 をお願いします。引き続き @screen_definition_workflow.md に従ってね

---

_**Assistant**_

はい、承知しました。引き続き画面定義書の更新を行っていきます。

まず、SCR_026_出庫登録確認ダイアログから始めます。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_026_出庫登録確認ダイアログ/026_画面定義書.md

---

```diff
  | 出力 | null |
  | 共通コンポーネントファイル | null |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 登録内容表示 | - | テキスト（表示のみ） | - |
+ | はいボタン | - | ボタン | クリック可能状態であること |
+ | いいえボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. 登録内容表示
+    - データ表示整合性チェック
+    - 在庫数量チェック
+ 2. はいボタン
+    - ユーザー権限チェック
+    - 登録可能状態チェック
+    - 在庫数量チェック
+ 3. いいえボタン
+    - クリック可能状態チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | データ表示エラー | 「登録内容の表示に失敗しました。再度実行してください」 |
+ | 権限エラー | 「この操作の実行権限がありません」 |
+ | 登録不可エラー | 「現在登録を実行できません。しばらく待ってから再度実行してください」 |
+ | 在庫数量エラー | 「出庫可能な在庫数量が不足しています」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | はいボタン押下 | 出庫登録完了画面 |
+ | いいえボタン押下 | 出庫登録画面（元の画面） |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

次に、SCR_027_出庫登録完了画面を更新します。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_027_出庫登録完了画面/027_画面定義書.md

---

```diff
  | 出力 | null |
  | 共通コンポーネントファイル | TopBar.tsx, Footer.tsx |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 完了メッセージ | - | テキスト（表示のみ） | - |
+ | 登録内容表示 | - | テキスト（表示のみ） | - |
+ | 在庫管理メニューへボタン | - | ボタン | クリック可能状態であること |
+ | 新規出庫登録へボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. 完了メッセージ
+    - メッセージ表示整合性チェック
+ 2. 登録内容表示
+    - データ表示整合性チェック
+ 3. 各ボタン
+    - クリック可能状態チェック
+    - ユーザー権限チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | メッセージ表示エラー | 「メッセージの表示に失敗しました。再度実行してください」 |
+ | データ表示エラー | 「登録内容の表示に失敗しました。再度実行してください」 |
+ | 権限エラー | 「この操作の実行権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 在庫管理メニューへボタン押下 | 在庫管理メニュー画面 |
+ | 新規出庫登録へボタン押下 | 出庫登録画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

次に、SCR_028_在庫移動登録画面を更新します。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_028_在庫移動登録画面/028_画面定義書.md

---

```diff
  | 出力 | [{table:"inventory_movements",items:["product_code","quantity","source_warehouse","destination_warehouse","movement_date"]}] |
  | 共通コンポーネントファイル | TopBar.tsx, Footer.tsx |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 商品コード | ○ | テキスト入力 | 半角英数字、最大20文字 |
+ | 商品名 | - | テキスト（表示のみ） | - |
+ | 移動数量 | ○ | 数値入力 | 1以上の整数、在庫数以下 |
+ | 移動元倉庫 | ○ | 選択式（ドロップダウン） | 登録済み倉庫から選択 |
+ | 移動先倉庫 | ○ | 選択式（ドロップダウン） | 登録済み倉庫から選択（移動元以外） |
+ | 移動日 | ○ | 日付 | 本日以前の日付 |
+ | 登録ボタン | - | ボタン | クリック可能状態であること |
+ | クリアボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. 商品コード
+    - 必須入力チェック
+    - 半角英数字チェック
+    - 最大文字数チェック
+    - 商品コード存在チェック
+ 2. 移動数量
+    - 必須入力チェック
+    - 数値チェック
+    - 1以上チェック
+    - 在庫数以下チェック
+ 3. 移動元倉庫
+    - 必須選択チェック
+    - 移動先倉庫と異なるチェック
+ 4. 移動先倉庫
+    - 必須選択チェック
+    - 移動元倉庫と異なるチェック
+ 5. 移動日
+    - 必須入力チェック
+    - 日付形式チェック
+    - 本日以前の日付チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | 商品コード未入力 | 「商品コードを入力してください」 |
+ | 商品コード形式 | 「商品コードは半角英数字で入力してください」 |
+ | 商品コード存在 | 「入力された商品コードは存在しません」 |
+ | 移動数量未入力 | 「移動数量を入力してください」 |
+ | 移動数量範囲 | 「移動数量は1以上の整数を入力してください」 |
+ | 在庫数超過 | 「移動数量が在庫数を超えています」 |
+ | 倉庫未選択 | 「倉庫を選択してください」 |
+ | 倉庫重複 | 「移動元と移動先の倉庫が同じです」 |
+ | 移動日未入力 | 「移動日を入力してください」 |
+ | 移動日範囲 | 「移動日は本日以前の日付を指定してください」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 登録ボタン押下 | 在庫移動登録確認ダイアログ |
+ | クリアボタン押下 | 同画面（入力内容クリア） |
+ | キャンセルボタン押下 | 在庫管理メニュー画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

`SCR_028_在庫移動登録画面`の画面定義書を更新しました。追加した主な内容は以下の通りです：

1. **入力項目の詳細仕様**：
   - 商品コード、商品名、移動数量、移動元倉庫、移動先倉庫、移動日などの各フィールドの詳細な仕様
   - 各フィールドの必須/任意、入力形式、制限事項を明確化

2. **入力値の検証ルール**：
   - 商品コードの形式チェックや存在チェック
   - 移動数量の範囲チェック
   - 倉庫選択の重複チェック
   - 移動日の日付形式チェックなど

3. **エラーメッセージ一覧**：
   - 各種入力エラー時のメッセージ
   - 権限エラーやシステムエラー時のメッセージ

4. **画面遷移**：
   - 登録ボタン押下時の確認ダイアログへの遷移
   - クリアボタンやキャンセルボタンの動作

次は`SCR_029_在庫移動登録確認ダイアログ`の画面定義書を確認して更新を進めていきます。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_029_在庫移動登録確認ダイアログ/029_画面定義書.md

---

`SCR_029_在庫移動登録確認ダイアログ`の画面定義書を更新します。

---

```diff
  | 出力 | null |
  | 共通コンポーネントファイル | null |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 登録内容表示 | - | テキスト（表示のみ） | 移動元倉庫、移動先倉庫、商品情報、移動数量、移動日を表示 |
+ | はいボタン | - | ボタン | クリック可能状態であること |
+ | いいえボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. 登録内容表示
+    - データ表示整合性チェック
+    - 表示データの完全性チェック
+ 2. ボタン操作
+    - ユーザー権限チェック
+    - ボタンクリック可能状態チェック
+    - 登録可能状態チェック（在庫数、倉庫状態など）
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | データ表示エラー | 「登録内容の表示に失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | 登録不可 | 「現在、在庫移動登録を行うことができません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | はいボタン押下 | 在庫移動登録完了画面 |
+ | いいえボタン押下 | 在庫移動登録画面（入力内容を保持） |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

`SCR_029_在庫移動登録確認ダイアログ`の画面定義書を更新しました。追加した主な内容は以下の通りです：

1. **入力項目の詳細仕様**：
   - 登録内容表示（移動元倉庫、移動先倉庫、商品情報、移動数量、移動日）
   - はい/いいえボタンの仕様

2. **入力値の検証ルール**：
   - データ表示の整合性チェック
   - ユーザー権限チェック
   - ボタン操作の可能状態チェック

3. **エラーメッセージ一覧**：
   - データ表示エラー
   - 権限エラー
   - 登録不可時のエラー
   - システムエラー

4. **画面遷移**：
   - はいボタン押下時の完了画面への遷移
   - いいえボタン押下時の登録画面への戻り

次は`SCR_030_在庫移動登録完了画面`の画面定義書を確認して更新を進めていきます。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_030_在庫移動登録完了画面/030_画面定義書.md

---

`SCR_030_在庫移動登録完了画面`の画面定義書を更新します。

---

```diff
  | 出力 | null |
  | 共通コンポーネントファイル | TopBar.tsx, Footer.tsx |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 完了メッセージ | - | テキスト（表示のみ） | 「在庫移動登録が完了しました」を表示 |
+ | 登録内容表示 | - | テキスト（表示のみ） | 移動元倉庫、移動先倉庫、商品情報、移動数量、移動日を表示 |
+ | 在庫管理メニューへボタン | - | ボタン | クリック可能状態であること |
+ | 新規在庫移動登録へボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. メッセージ表示
+    - メッセージ表示整合性チェック
+ 2. 登録内容表示
+    - データ表示整合性チェック
+    - 表示データの完全性チェック
+ 3. ボタン操作
+    - ユーザー権限チェック
+    - ボタンクリック可能状態チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | メッセージ表示エラー | 「完了メッセージの表示に失敗しました」 |
+ | データ表示エラー | 「登録内容の表示に失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 在庫管理メニューへボタン押下 | 在庫管理メニュー画面 |
+ | 新規在庫移動登録へボタン押下 | 在庫移動登録画面（新規入力状態） |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

`SCR_030_在庫移動登録完了画面`の画面定義書を更新しました。追加した主な内容は以下の通りです：

1. **入力項目の詳細仕様**：
   - 完了メッセージの表示仕様
   - 登録内容の表示項目（移動元倉庫、移動先倉庫、商品情報など）
   - 在庫管理メニューへボタンと新規在庫移動登録へボタンの仕様

2. **入力値の検証ルール**：
   - メッセージ表示の整合性チェック
   - 登録内容表示の整合性チェック
   - ボタン操作の権限チェック

3. **エラーメッセージ一覧**：
   - メッセージ表示エラー
   - データ表示エラー
   - 権限エラー
   - システムエラー

4. **画面遷移**：
   - 在庫管理メニューへボタン押下時の遷移
   - 新規在庫移動登録へボタン押下時の遷移

次は`SCR_031_在庫調整登録画面`の画面定義書を確認して更新を進めていきます。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_031_在庫調整登録画面/031_画面定義書.md

---

`SCR_031_在庫調整登録画面`の画面定義書を更新します。

---

```diff
  | 出力 | [{table:"inventory",items:["product_code","quantity","warehouse","updated_at"]}] |
  | 共通コンポーネントファイル | TopBar.tsx, Footer.tsx |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 商品コード | ○ | テキスト入力 | 半角英数字、最大20文字 |
+ | 商品名 | - | テキスト（表示のみ） | - |
+ | 調整数量 | ○ | 数値入力 | 整数（正数または負数） |
+ | 調整理由 | ○ | テキスト入力 | 最大200文字 |
+ | 倉庫 | ○ | 選択式（ドロップダウン） | 登録済み倉庫から選択 |
+ | 調整日 | ○ | 日付 | 本日以前の日付 |
+ | 登録ボタン | - | ボタン | クリック可能状態であること |
+ | クリアボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. 商品コード
+    - 必須入力チェック
+    - 半角英数字チェック
+    - 最大文字数チェック
+    - 商品コード存在チェック
+ 2. 調整数量
+    - 必須入力チェック
+    - 数値チェック
+    - 整数チェック
+ 3. 調整理由
+    - 必須入力チェック
+    - 最大文字数チェック
+ 4. 倉庫
+    - 必須選択チェック
+    - 在庫存在チェック
+ 5. 調整日
+    - 必須入力チェック
+    - 日付形式チェック
+    - 本日以前の日付チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | 商品コード未入力 | 「商品コードを入力してください」 |
+ | 商品コード形式 | 「商品コードは半角英数字で入力してください」 |
+ | 商品コード存在 | 「入力された商品コードは存在しません」 |
+ | 調整数量未入力 | 「調整数量を入力してください」 |
+ | 調整数量形式 | 「調整数量は整数で入力してください」 |
+ | 調整理由未入力 | 「調整理由を入力してください」 |
+ | 調整理由文字数 | 「調整理由は200文字以内で入力してください」 |
+ | 倉庫未選択 | 「倉庫を選択してください」 |
+ | 在庫なし | 「選択された倉庫に該当商品の在庫が存在しません」 |
+ | 調整日未入力 | 「調整日を入力してください」 |
+ | 調整日範囲 | 「調整日は本日以前の日付を指定してください」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 登録ボタン押下 | 在庫調整登録確認ダイアログ |
+ | クリアボタン押下 | 同画面（入力内容クリア） |
+ | キャンセルボタン押下 | 在庫管理メニュー画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

`SCR_031_在庫調整登録画面`の画面定義書を更新しました。追加した主な内容は以下の通りです：

1. **入力項目の詳細仕様**：
   - 商品コード、商品名、調整数量、調整理由などの各フィールドの詳細
   - 必須項目の指定
   - 入力形式や制限事項の明確化

2. **入力値の検証ルール**：
   - 商品コードの形式チェックや存在チェック
   - 調整数量の整数チェック
   - 調整理由の文字数チェック
   - 倉庫の在庫存在チェック
   - 調整日の日付形式チェック

3. **エラーメッセージ一覧**：
   - 各入力項目のバリデーションエラーメッセージ
   - 在庫存在チェックエラー
   - 権限エラー
   - システムエラー

4. **画面遷移**：
   - 登録ボタン押下時の確認ダイアログへの遷移
   - クリアボタンやキャンセルボタンの動作

次は`SCR_032_在庫調整登録確認ダイアログ`の画面定義書を確認して更新を進めていきます。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_032_在庫調整登録確認ダイアログ/032_画面定義書.md

---

`SCR_032_在庫調整登録確認ダイアログ`の画面定義書を更新します。

---

```diff
  | 出力 | null |
  | 共通コンポーネントファイル | null |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 登録内容表示 | - | テキスト（表示のみ） | 商品情報、調整数量、調整理由、倉庫、調整日を表示 |
+ | はいボタン | - | ボタン | クリック可能状態であること |
+ | いいえボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. 登録内容表示
+    - データ表示整合性チェック
+    - 表示データの完全性チェック
+ 2. ボタン操作
+    - ユーザー権限チェック
+    - ボタンクリック可能状態チェック
+    - 登録可能状態チェック（在庫数、倉庫状態など）
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | データ表示エラー | 「登録内容の表示に失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | 登録不可 | 「現在、在庫調整登録を行うことができません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | はいボタン押下 | 在庫調整登録完了画面 |
+ | いいえボタン押下 | 在庫調整登録画面（入力内容を保持） |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

`SCR_032_在庫調整登録確認ダイアログ`の画面定義書を更新しました。追加した主な内容は以下の通りです：

1. **入力項目の詳細仕様**：
   - 登録内容表示（商品情報、調整数量、調整理由、倉庫、調整日）
   - はい/いいえボタンの仕様

2. **入力値の検証ルール**：
   - データ表示の整合性チェック
   - ユーザー権限チェック
   - ボタン操作の可能状態チェック

3. **エラーメッセージ一覧**：
   - データ表示エラー
   - 権限エラー
   - 登録不可時のエラー
   - システムエラー

4. **画面遷移**：
   - はいボタン押下時の完了画面への遷移
   - いいえボタン押下時の登録画面への戻り

次は`SCR_033_在庫調整登録完了画面`の画面定義書を確認して更新を進めていきます。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_033_在庫調整登録完了画面/033_画面定義書.md

---

`SCR_033_在庫調整登録完了画面`の画面定義書を更新します。

---

```diff
  | 出力 | null |
  | 共通コンポーネントファイル | TopBar.tsx, Footer.tsx |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 完了メッセージ | - | テキスト（表示のみ） | 「在庫調整登録が完了しました」を表示 |
+ | 登録内容表示 | - | テキスト（表示のみ） | 商品情報、調整数量、調整理由、倉庫、調整日を表示 |
+ | 在庫管理メニューへボタン | - | ボタン | クリック可能状態であること |
+ | 新規在庫調整登録へボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. メッセージ表示
+    - メッセージ表示整合性チェック
+ 2. 登録内容表示
+    - データ表示整合性チェック
+    - 表示データの完全性チェック
+ 3. ボタン操作
+    - ユーザー権限チェック
+    - ボタンクリック可能状態チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | メッセージ表示エラー | 「完了メッセージの表示に失敗しました」 |
+ | データ表示エラー | 「登録内容の表示に失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 在庫管理メニューへボタン押下 | 在庫管理メニュー画面 |
+ | 新規在庫調整登録へボタン押下 | 在庫調整登録画面（新規入力状態） |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

`SCR_033_在庫調整登録完了画面`の画面定義書を更新しました。追加した主な内容は以下の通りです：

1. **入力項目の詳細仕様**：
   - 完了メッセージの表示仕様
   - 登録内容の表示項目（商品情報、調整数量、調整理由など）
   - 在庫管理メニューへボタンと新規在庫調整登録へボタンの仕様

2. **入力値の検証ルール**：
   - メッセージ表示の整合性チェック
   - 登録内容表示の整合性チェック
   - ボタン操作の権限チェック

3. **エラーメッセージ一覧**：
   - メッセージ表示エラー
   - データ表示エラー
   - 権限エラー
   - システムエラー

4. **画面遷移**：
   - 在庫管理メニューへボタン押下時の遷移
   - 新規在庫調整登録へボタン押下時の遷移

次は`SCR_034_在庫マスタ登録更新画面`の画面定義書を確認して更新を進めていきます。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_034_在庫マスタ登録更新画面/034_画面定義書.md

---

ファイルが空のようです。代わりに`SCR_034_在庫マスタ登録 更新画面`のディレクトリを確認してみましょう。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_034_在庫マスタ登録 更新画面/034_画面定義書.md

---

`SCR_034_在庫マスタ登録 更新画面`の画面定義書を更新します。

---

```diff
  | 出力 | [{\"table\":\"products\", \"items\":[\"product_code\", \"product_name\", \"inventory_location\", \"inventory_upper_limit\", \"inventory_lower_limit\"]}] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 商品コード | ○ | テキスト入力 | 半角英数字、最大20文字 |
+ | 商品名 | ○ | テキスト入力 | 最大100文字 |
+ | 在庫拠点 | ○ | 選択式（ドロップダウン） | 登録済み拠点から選択 |
+ | 在庫上限 | ○ | 数値入力 | 1以上の整数、在庫下限より大きい値 |
+ | 在庫下限 | ○ | 数値入力 | 0以上の整数、在庫上限より小さい値 |
+ | 登録ボタン | - | ボタン | 新規登録時のみクリック可能 |
+ | 更新ボタン | - | ボタン | 更新時のみクリック可能 |
+ 
+ ## 入力値の検証ルール
+ 1. 商品コード
+    - 必須入力チェック
+    - 半角英数字チェック
+    - 最大文字数チェック
+    - 新規登録時：重複チェック
+    - 更新時：存在チェック
+ 2. 商品名
+    - 必須入力チェック
+    - 最大文字数チェック
+ 3. 在庫拠点
+    - 必須選択チェック
+    - 拠点存在チェック
+ 4. 在庫上限
+    - 必須入力チェック
+    - 数値チェック
+    - 1以上チェック
+    - 在庫下限より大きいチェック
+ 5. 在庫下限
+    - 必須入力チェック
+    - 数値チェック
+    - 0以上チェック
+    - 在庫上限より小さいチェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | 商品コード未入力 | 「商品コードを入力してください」 |
+ | 商品コード形式 | 「商品コードは半角英数字で入力してください」 |
+ | 商品コード重複 | 「入力された商品コードは既に登録されています」 |
+ | 商品コード存在 | 「入力された商品コードは存在しません」 |
+ | 商品名未入力 | 「商品名を入力してください」 |
+ | 商品名文字数 | 「商品名は100文字以内で入力してください」 |
+ | 在庫拠点未選択 | 「在庫拠点を選択してください」 |
+ | 在庫拠点存在 | 「選択された在庫拠点は存在しません」 |
+ | 在庫上限未入力 | 「在庫上限を入力してください」 |
+ | 在庫上限範囲 | 「在庫上限は1以上の整数を入力してください」 |
+ | 在庫上限比較 | 「在庫上限は在庫下限より大きい値を入力してください」 |
+ | 在庫下限未入力 | 「在庫下限を入力してください」 |
+ | 在庫下限範囲 | 「在庫下限は0以上の整数を入力してください」 |
+ | 在庫下限比較 | 「在庫下限は在庫上限より小さい値を入力してください」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 登録ボタン押下 | 在庫マスタ登録完了画面 |
+ | 更新ボタン押下 | 在庫マスタ更新完了画面 |
+ | キャンセルボタン押下 | 在庫管理メニュー画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

`SCR_034_在庫マスタ登録 更新画面`の画面定義書を更新しました。追加した主な内容は以下の通りです：

1. **入力項目の詳細仕様**：
   - 商品コード、商品名、在庫拠点などの各フィールドの詳細
   - 在庫上限・下限の数値制限
   - 登録・更新ボタンの表示制御

2. **入力値の検証ルール**：
   - 商品コードの重複・存在チェック
   - 商品名の文字数チェック
   - 在庫拠点の存在チェック
   - 在庫上限・下限の範囲チェックと相互比較

3. **エラーメッセージ一覧**：
   - 各入力項目のバリデーションエラーメッセージ
   - 在庫上限・下限の比較エラー
   - 権限エラー
   - システムエラー

4. **画面遷移**：
   - 登録・更新ボタン押下時の完了画面への遷移
   - キャンセルボタン押下時のメニュー画面への遷移

次は`SCR_035_在庫上限アラート通知`の画面定義書を確認して更新を進めていきます。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_035_在庫上限アラート通知/035_画面定義書.md

---

`SCR_035_在庫上限アラート通知`の画面定義書を更新します。

---

```diff
  | 出力 | [] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | アラートメッセージ | - | テキスト（表示のみ） | 「在庫数が上限を超えています」を表示 |
+ | 商品情報 | - | テキスト（表示のみ） | 商品コード、商品名を表示 |
+ | 在庫情報 | - | テキスト（表示のみ） | 現在の在庫数、在庫上限を表示 |
+ | 確認ボタン | - | ボタン | クリック可能状態であること |
+ | 在庫調整へボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. メッセージ表示
+    - メッセージ表示整合性チェック
+ 2. 商品情報表示
+    - データ表示整合性チェック
+    - 表示データの完全性チェック
+ 3. 在庫情報表示
+    - データ表示整合性チェック
+    - 表示データの完全性チェック
+ 4. ボタン操作
+    - ユーザー権限チェック
+    - ボタンクリック可能状態チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | メッセージ表示エラー | 「アラートメッセージの表示に失敗しました」 |
+ | データ表示エラー | 「商品情報の表示に失敗しました」 |
+ | 在庫情報表示エラー | 「在庫情報の表示に失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 確認ボタン押下 | アラート通知を閉じる |
+ | 在庫調整へボタン押下 | 在庫調整登録画面（該当商品の情報を保持） |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

`SCR_035_在庫上限アラート通知`の画面定義書を更新しました。追加した主な内容は以下の通りです：

1. **入力項目の詳細仕様**：
   - アラートメッセージの表示仕様
   - 商品情報（商品コード、商品名）の表示
   - 在庫情報（現在の在庫数、在庫上限）の表示
   - 確認ボタンと在庫調整へボタンの仕様

2. **入力値の検証ルール**：
   - メッセージ表示の整合性チェック
   - 商品情報表示の整合性チェック
   - 在庫情報表示の整合性チェック
   - ボタン操作の権限チェック

3. **エラーメッセージ一覧**：
   - メッセージ表示エラー
   - データ表示エラー
   - 在庫情報表示エラー
   - 権限エラー
   - システムエラー

4. **画面遷移**：
   - 確認ボタン押下時のアラート閉じる動作
   - 在庫調整へボタン押下時の在庫調整登録画面への遷移

これで、すべての画面定義書の更新が完了しました。各画面に対して、入力項目の詳細仕様、入力値の検証ルール、エラーメッセージ一覧、画面遷移の情報を追加し、より詳細な仕様を定義しました。

更新した画面定義書は以下の通りです：
1. `SCR_028_在庫移動登録画面`
2. `SCR_029_在庫移動登録確認ダイアログ`
3. `SCR_030_在庫移動登録完了画面`
4. `SCR_031_在庫調整登録画面`
5. `SCR_032_在庫調整登録確認ダイアログ`
6. `SCR_033_在庫調整登録完了画面`
7. `SCR_034_在庫マスタ登録 更新画面`
8. `SCR_035_在庫上限アラート通知`

各画面定義書は、システムの要件に沿って適切に更新され、開発者が実装を行う際の明確なガイドラインとなっています。また、テスターがテストを行う際の基準としても活用できる内容となっています。

---

_**User**_

@SCR_036_在庫下限アラート通知 @SCR_037_納期超過アラート通知 @SCR_038_在庫状況確認画面 @SCR_039_発注推奨アラート表示 @SCR_040_アラート通知設定画面 @SCR_041_アラート設定登録完了 @SCR_042_在庫アラート設定画面 @SCR_043_在庫アラート設定完了 @SCR_044_ダッシュボード画面 @SCR_045_アラート一覧表示 をお願いします。

引き続き @screen_definition_workflow.md に従ってね

---

_**Assistant**_

はい、承知しました。まずは`SCR_036_在庫下限アラート通知`の画面定義書から確認して更新を進めていきます。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_036_在庫下限アラート通知/036_画面定義書.md

---

`SCR_036_在庫下限アラート通知`の画面定義書を更新します。

---

```diff
  | 出力 | [] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | アラートメッセージ | - | テキスト（表示のみ） | 「在庫数が下限を下回っています」を表示 |
+ | 商品情報 | - | テキスト（表示のみ） | 商品コード、商品名を表示 |
+ | 在庫情報 | - | テキスト（表示のみ） | 現在の在庫数、在庫下限を表示 |
+ | 確認ボタン | - | ボタン | クリック可能状態であること |
+ | 発注登録へボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. メッセージ表示
+    - メッセージ表示整合性チェック
+ 2. 商品情報表示
+    - データ表示整合性チェック
+    - 表示データの完全性チェック
+ 3. 在庫情報表示
+    - データ表示整合性チェック
+    - 表示データの完全性チェック
+ 4. ボタン操作
+    - ユーザー権限チェック
+    - ボタンクリック可能状態チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | メッセージ表示エラー | 「アラートメッセージの表示に失敗しました」 |
+ | データ表示エラー | 「商品情報の表示に失敗しました」 |
+ | 在庫情報表示エラー | 「在庫情報の表示に失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 確認ボタン押下 | アラート通知を閉じる |
+ | 発注登録へボタン押下 | 発注登録画面（該当商品の情報を保持） |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

`SCR_036_在庫下限アラート通知`の画面定義書を更新しました。次は`SCR_037_納期超過アラート通知`の画面定義書を確認して更新を進めていきます。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_037_納期超過アラート通知/037_画面定義書.md

---

`SCR_037_納期超過アラート通知`の画面定義書を更新します。

---

```diff
  | 出力 | [] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | アラートメッセージ | - | テキスト（表示のみ） | 「納期が超過しています」を表示 |
+ | 発注情報 | - | テキスト（表示のみ） | 発注ID、納期を表示 |
+ | 商品情報 | - | テキスト（表示のみ） | 商品コード、商品名を表示 |
+ | 確認ボタン | - | ボタン | クリック可能状態であること |
+ | 発注詳細へボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. メッセージ表示
+    - メッセージ表示整合性チェック
+ 2. 発注情報表示
+    - データ表示整合性チェック
+    - 表示データの完全性チェック
+ 3. 商品情報表示
+    - データ表示整合性チェック
+    - 表示データの完全性チェック
+ 4. ボタン操作
+    - ユーザー権限チェック
+    - ボタンクリック可能状態チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | メッセージ表示エラー | 「アラートメッセージの表示に失敗しました」 |
+ | 発注情報表示エラー | 「発注情報の表示に失敗しました」 |
+ | 商品情報表示エラー | 「商品情報の表示に失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 確認ボタン押下 | アラート通知を閉じる |
+ | 発注詳細へボタン押下 | 発注詳細画面（該当発注の情報を表示） |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

`SCR_037_納期超過アラート通知`の画面定義書の更新が完了しました。追加した4つのセクションにより、以下の点が明確になりました：

1. 表示項目と操作可能なボタンの詳細仕様
2. データ表示の整合性や権限に関する検証ルール
3. 想定されるエラーケースとメッセージ
4. ボタン操作による画面遷移の流れ

次は`SCR_038_在庫状況確認画面`の画面定義書を確認し、更新を進めていきます。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_038_在庫状況確認画面/038_画面定義書.md

---

`SCR_038_在庫状況確認画面`の画面定義書を更新します。

---

```diff
  | 出力 | [] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 商品コード | ○ | テキスト | 半角英数字、最大20文字 |
+ | 検索ボタン | - | ボタン | クリック可能状態であること |
+ | 商品名 | - | テキスト（表示のみ） | 検索結果に応じて表示 |
+ | 在庫数 | - | 数値（表示のみ） | 検索結果に応じて表示 |
+ | 安全在庫数 | - | 数値（表示のみ） | 検索結果に応じて表示 |
+ | 在庫状態 | - | テキスト（表示のみ） | 「適正」「不足」「過剰」のいずれかを表示 |
+ | 在庫場所 | - | テキスト（表示のみ） | 検索結果に応じて表示 |
+ 
+ ## 入力値の検証ルール
+ 1. 商品コード入力
+    - 必須入力チェック
+    - 半角英数字チェック
+    - 文字数チェック（最大20文字）
+    - 存在する商品コードであることのチェック
+ 2. 検索ボタン
+    - ユーザー権限チェック
+    - 商品コード入力済みチェック
+ 3. 表示データ
+    - データ表示整合性チェック
+    - 表示データの完全性チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | 商品コード未入力 | 「商品コードを入力してください」 |
+ | 商品コード形式不正 | 「商品コードは半角英数字で入力してください」 |
+ | 商品コード文字数超過 | 「商品コードは20文字以内で入力してください」 |
+ | 商品コード不存在 | 「入力された商品コードは存在しません」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | データ取得エラー | 「在庫情報の取得に失敗しました」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 検索ボタン押下 | 同画面（検索結果を表示） |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

`SCR_038_在庫状況確認画面`の画面定義書の更新が完了しました。追加した4つのセクションにより、以下の点が明確になりました：

1. 入力フィールドと表示項目の詳細な仕様（特に商品コードの入力制限や在庫状態の表示方法）
2. 商品コード入力時の各種バリデーションと検索時の権限チェック
3. 想定されるエラーケースとユーザーフレンドリーなメッセージ
4. 検索ボタン押下時の画面遷移（同画面での結果表示）

次は`SCR_039_発注推奨アラート表示`の画面定義書を確認し、更新を進めていきます。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_039_発注推奨アラート表示/039_画面定義書.md

---

`SCR_039_発注推奨アラート表示`の画面定義書を更新します。

---

```diff
  | 出力 | [] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | アラートメッセージ | - | テキスト（表示のみ） | 「在庫が安全在庫数を下回っています。発注を検討してください。」を表示 |
+ | 商品情報 | - | テキスト（表示のみ） | 商品コード、商品名を表示 |
+ | 在庫情報 | - | 数値（表示のみ） | 現在の在庫数、安全在庫数を表示 |
+ | 確認ボタン | - | ボタン | クリック可能状態であること |
+ | 発注登録へボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. メッセージ表示
+    - メッセージ表示整合性チェック
+ 2. 商品情報表示
+    - データ表示整合性チェック
+    - 表示データの完全性チェック
+ 3. 在庫情報表示
+    - データ表示整合性チェック
+    - 表示データの完全性チェック
+ 4. ボタン操作
+    - ユーザー権限チェック
+    - ボタンクリック可能状態チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | メッセージ表示エラー | 「アラートメッセージの表示に失敗しました」 |
+ | 商品情報表示エラー | 「商品情報の表示に失敗しました」 |
+ | 在庫情報表示エラー | 「在庫情報の表示に失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 確認ボタン押下 | アラート通知を閉じる |
+ | 発注登録へボタン押下 | 発注登録画面（該当商品の情報を初期表示） |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

`SCR_039_発注推奨アラート表示`の画面定義書の更新が完了しました。追加した4つのセクションにより、以下の点が明確になりました：

1. アラートメッセージ、商品情報、在庫情報の表示仕様とボタンの操作要件
2. 各表示項目のデータ整合性チェックと権限チェック
3. 想定されるエラーケースとユーザーフレンドリーなメッセージ
4. ボタン操作による画面遷移（アラート閉じる、発注登録画面への遷移）

次は`SCR_040_アラート通知設定画面`の画面定義書を確認し、更新を進めていきます。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_040_アラート通知設定画面/040_画面定義書.md

---

`SCR_040_アラート通知設定画面`の画面定義書を更新します。

---

```diff
  | 出力 | [{\"table\":\"alerts\", \"items\":[\"alert_type\", \"notification_destination\"]}] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | アラート種類チェックボックス | ○ | チェックボックス | 複数選択可能 |
+ | - 在庫上限アラート | - | チェックボックス | 選択/未選択 |
+ | - 在庫下限アラート | - | チェックボックス | 選択/未選択 |
+ | - 納期超過アラート | - | チェックボックス | 選択/未選択 |
+ | - 発注推奨アラート | - | チェックボックス | 選択/未選択 |
+ | 通知先選択 | ○ | ドロップダウン | 以下から選択：「メール」「システム内通知」「両方」 |
+ | 設定ボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. アラート種類選択
+    - 必須選択チェック（1つ以上）
+    - 選択値の有効性チェック
+ 2. 通知先選択
+    - 必須選択チェック
+    - 選択値の有効性チェック
+ 3. 設定ボタン
+    - ユーザー権限チェック
+    - 必須項目入力済みチェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | アラート種類未選択 | 「アラートの種類を1つ以上選択してください」 |
+ | 通知先未選択 | 「通知先を選択してください」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | 設定保存エラー | 「設定の保存に失敗しました」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 設定ボタン押下 | アラート設定登録完了画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

`SCR_040_アラート通知設定画面`の画面定義書の更新が完了しました。追加した4つのセクションにより、以下の点が明確になりました：

1. アラート種類の選択方法（チェックボックス）と通知先の選択方法（ドロップダウン）の詳細仕様
2. 必須選択項目のチェックと選択値の有効性検証
3. 想定されるエラーケースとユーザーフレンドリーなメッセージ
4. 設定ボタン押下時のアラート設定登録完了画面への遷移

次は`SCR_041_アラート設定登録完了`の画面定義書を確認し、更新を進めていきます。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_041_アラート設定登録完了/041_画面定義書.md

---

`SCR_041_アラート設定登録完了`の画面定義書を更新します。

---



---

申し訳ありません。ファイルの更新に失敗したようです。もう一度試してみます。

---

```diff
  | 入力 | [] |
  | 出力 | [] |
- | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\"] |
+ | 共通コンポーネントファイル | ["Header.tsx", "Footer.tsx"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 完了メッセージ | - | テキスト（表示のみ） | 「アラート通知設定が完了しました」を表示 |
+ | 設定内容表示 | - | テキスト（表示のみ） | 設定したアラート種類と通知先を表示 |
+ | アラート設定一覧へボタン | - | ボタン | クリック可能状態であること |
+ | 新規設定へボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. メッセージ表示
+    - メッセージ表示整合性チェック
+ 2. 設定内容表示
+    - データ表示整合性チェック
+    - 表示データの完全性チェック
+ 3. ボタン操作
+    - ユーザー権限チェック
+    - ボタンクリック可能状態チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | メッセージ表示エラー | 「完了メッセージの表示に失敗しました」 |
+ | 設定内容表示エラー | 「設定内容の表示に失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | アラート設定一覧へボタン押下 | アラート通知設定画面 |
+ | 新規設定へボタン押下 | アラート通知設定画面（新規入力状態） |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

`SCR_041_アラート設定登録完了`の画面定義書の更新が完了しました。追加した4つのセクションにより、以下の点が明確になりました：

1. 完了メッセージと設定内容の表示仕様、および操作可能なボタンの詳細
2. メッセージ表示とデータ表示の整合性チェック、ボタン操作の権限チェック
3. 想定されるエラーケースとユーザーフレンドリーなメッセージ
4. ボタン操作による画面遷移（一覧画面または新規設定画面への遷移）

次は`SCR_042_在庫アラート設定画面`の画面定義書を確認し、更新を進めていきます。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_042_在庫アラート設定画面/042_画面定義書.md

---

`SCR_042_在庫アラート設定画面`の画面定義書を更新します。

---

```diff
  | 出力 | [{\"table\":\"alerts\", \"items\":[\"alert_type\", \"threshold\"]}] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | アラート種類選択 | ○ | ドロップダウン | 以下から選択：「在庫上限アラート」「在庫下限アラート」 |
+ | 条件設定 | ○ | 数値入力 | 1以上の整数 |
+ | - 在庫上限値 | △ | 数値入力 | 在庫上限アラート選択時は必須、1以上の整数 |
+ | - 在庫下限値 | △ | 数値入力 | 在庫下限アラート選択時は必須、1以上の整数 |
+ | 設定ボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. アラート種類選択
+    - 必須選択チェック
+    - 選択値の有効性チェック
+ 2. 条件設定
+    - 必須入力チェック
+    - 数値形式チェック
+    - 範囲チェック（1以上）
+    - 在庫上限値 > 在庫下限値のチェック（両方設定時）
+ 3. 設定ボタン
+    - ユーザー権限チェック
+    - 必須項目入力済みチェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | アラート種類未選択 | 「アラートの種類を選択してください」 |
+ | 条件値未入力 | 「条件値を入力してください」 |
+ | 条件値形式不正 | 「条件値は1以上の整数で入力してください」 |
+ | 条件値範囲エラー | 「在庫上限値は在庫下限値より大きい値を設定してください」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | 設定保存エラー | 「設定の保存に失敗しました」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 設定ボタン押下 | 在庫アラート設定完了画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

`SCR_042_在庫アラート設定画面`の画面定義書の更新が完了しました。追加した4つのセクションにより、以下の点が明確になりました：

1. アラート種類の選択方法と条件値の入力仕様（特に在庫上限値と下限値の条件付き必須入力）
2. 入力値の検証ルール（数値形式、範囲チェック、上限値と下限値の大小関係）
3. 想定されるエラーケースとユーザーフレンドリーなメッセージ
4. 設定ボタン押下時の在庫アラート設定完了画面への遷移

次は`SCR_043_在庫アラート設定完了`の画面定義書を確認し、更新を進めていきます。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_043_在庫アラート設定完了/043_画面定義書.md

---

`SCR_043_在庫アラート設定完了`の画面定義書を更新します。

---

```diff
  | 出力 | [] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 完了メッセージ | - | テキスト（表示のみ） | 「在庫アラート設定が完了しました」を表示 |
+ | 設定内容表示 | - | テキスト（表示のみ） | 設定したアラート種類と条件値を表示 |
+ | アラート設定一覧へボタン | - | ボタン | クリック可能状態であること |
+ | 新規設定へボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. メッセージ表示
+    - メッセージ表示整合性チェック
+ 2. 設定内容表示
+    - データ表示整合性チェック
+    - 表示データの完全性チェック
+ 3. ボタン操作
+    - ユーザー権限チェック
+    - ボタンクリック可能状態チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | メッセージ表示エラー | 「完了メッセージの表示に失敗しました」 |
+ | 設定内容表示エラー | 「設定内容の表示に失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | アラート設定一覧へボタン押下 | 在庫アラート設定画面 |
+ | 新規設定へボタン押下 | 在庫アラート設定画面（新規入力状態） |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

`SCR_043_在庫アラート設定完了`の画面定義書の更新が完了しました。追加した4つのセクションにより、以下の点が明確になりました：

1. 完了メッセージと設定内容の表示仕様、および操作可能なボタンの詳細
2. メッセージ表示とデータ表示の整合性チ

---

_**User**_

@SCR_044_ダッシュボード画面 @SCR_045_アラート一覧表示 @SCR_046_ユーザー登録画面 @SCR_047_ユーザー権限設定画面 @SCR_048_操作ログ検索画面 @SCR_049_監査レポート出力画面 @SCR_050_発注データ確認画面 @SCR_051_発注データ登録完了画面 @SCR_052_発注データ更新画面 @SCR_053_発注データ更新完了画面 @SCR_054_発注書自動生成画面 をお願いひます。

引き続き @screen_definition_workflow.md に従ってね。できるなら並列処理で

---

_**Assistant**_

まず、`SCR_044_ダッシュボード画面`の画面定義書を確認し、更新を進めていきます。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_044_ダッシュボード画面/044_画面定義書.md

---

`SCR_044_ダッシュボード画面`の画面定義書を更新します。

---

```diff
  | 出力 | [] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 在庫一覧表示 | - | テーブル（表示のみ） | ソート可能、ページング機能あり |
+ | - 商品コード | - | テキスト（表示のみ） | - |
+ | - 商品名 | - | テキスト（表示のみ） | - |
+ | - 在庫数 | - | 数値（表示のみ） | - |
+ | - 在庫状態 | - | テキスト（表示のみ） | 「適正」「不足」「過剰」のいずれか |
+ | 発注状況表示 | - | テーブル（表示のみ） | ソート可能、ページング機能あり |
+ | - 発注ID | - | テキスト（表示のみ） | - |
+ | - 商品名 | - | テキスト（表示のみ） | - |
+ | - 発注数量 | - | 数値（表示のみ） | - |
+ | - 納期 | - | 日付（表示のみ） | - |
+ | 在庫推移グラフ | - | グラフ（表示のみ） | 過去3ヶ月分の在庫推移を表示 |
+ | 発注数量グラフ | - | グラフ（表示のみ） | 過去3ヶ月分の発注数量推移を表示 |
+ | アラート一覧 | - | リスト（表示のみ） | 最新10件のアラートを表示 |
+ | 詳細表示リンク | - | リンク | 各項目の詳細画面へ遷移可能 |
+ 
+ ## 入力値の検証ルール
+ 1. データ表示
+    - データ表示整合性チェック
+    - 表示データの完全性チェック
+ 2. グラフ表示
+    - データ表示整合性チェック
+    - グラフ描画整合性チェック
+ 3. リンク操作
+    - ユーザー権限チェック
+    - リンククリック可能状態チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | 在庫データ取得エラー | 「在庫データの取得に失敗しました」 |
+ | 発注データ取得エラー | 「発注データの取得に失敗しました」 |
+ | グラフ表示エラー | 「グラフの表示に失敗しました」 |
+ | アラート取得エラー | 「アラート情報の取得に失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 在庫一覧の詳細リンク押下 | 在庫状況確認画面 |
+ | 発注状況の詳細リンク押下 | 発注データ確認画面 |
+ | アラート一覧の詳細リンク押下 | アラート一覧表示画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

次に、`SCR_045_アラート一覧表示`の画面定義書を確認し、更新を進めます。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_045_アラート一覧表示/045_画面定義書.md

---

`SCR_045_アラート一覧表示`の画面定義書を更新します。

---

```diff
  | 出力 | [] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | アラート一覧表示 | - | テーブル（表示のみ） | ソート可能、ページング機能あり |
+ | - アラートID | - | テキスト（表示のみ） | - |
+ | - アラート種類 | - | テキスト（表示のみ） | 「在庫上限」「在庫下限」「納期超過」「発注推奨」のいずれか |
+ | - 商品コード | - | テキスト（表示のみ） | - |
+ | - 商品名 | - | テキスト（表示のみ） | - |
+ | - メッセージ | - | テキスト（表示のみ） | - |
+ | - 発生日時 | - | 日時（表示のみ） | YYYY/MM/DD HH:mm:ss形式 |
+ | - ステータス | - | テキスト（表示のみ） | 「未確認」「確認済み」のいずれか |
+ | 詳細表示リンク | - | リンク | 各アラートの詳細画面へ遷移可能 |
+ | フィルター | - | ドロップダウン | アラート種類でフィルタリング可能 |
+ | 期間指定 | - | 日付入力 | 表示期間の指定が可能 |
+ 
+ ## 入力値の検証ルール
+ 1. データ表示
+    - データ表示整合性チェック
+    - 表示データの完全性チェック
+ 2. フィルター操作
+    - 選択値の有効性チェック
+ 3. 期間指定
+    - 日付形式チェック
+    - 期間範囲の妥当性チェック
+ 4. リンク操作
+    - ユーザー権限チェック
+    - リンククリック可能状態チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | データ取得エラー | 「アラート情報の取得に失敗しました」 |
+ | 期間指定エラー | 「正しい期間を指定してください」 |
+ | フィルター適用エラー | 「フィルターの適用に失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 詳細表示リンク押下 | 各アラート種類に対応する詳細画面 |
+ | ダッシュボードへ戻るリンク押下 | ダッシュボード画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

次に、`SCR_046_ユーザー登録画面`の画面定義書を確認し、更新を進めます。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_046_ユーザー登録画面/046_画面定義書.md

---

`SCR_046_ユーザー登録画面`の画面定義書を更新します。

---

```diff
  | 出力 | [{table:"users",items:["user_id","username","password","role"]}] |
  | 共通コンポーネントファイル | ヘッダー、フッター、サイドメニュー |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | ユーザーID | ○ | テキスト入力 | 半角英数字、4文字以上20文字以内 |
+ | パスワード | ○ | パスワード入力 | 半角英数字記号、8文字以上32文字以内、英大文字・小文字・数字を各1文字以上含む |
+ | パスワード（確認） | ○ | パスワード入力 | パスワードと同一であること |
+ | 権限 | ○ | ドロップダウン | 以下から選択：「管理者」「在庫管理担当者」「購買担当者」「閲覧者」 |
+ | メールアドレス | ○ | テキスト入力 | メールアドレス形式 |
+ | 氏名 | ○ | テキスト入力 | 全角文字、1文字以上50文字以内 |
+ | 所属部署 | ○ | ドロップダウン | 登録済み部署から選択 |
+ | 登録ボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. ユーザーID
+    - 必須入力チェック
+    - 半角英数字チェック
+    - 文字数チェック（4-20文字）
+    - 重複チェック
+ 2. パスワード
+    - 必須入力チェック
+    - 文字種チェック
+    - 文字数チェック（8-32文字）
+    - 強度チェック
+ 3. パスワード（確認）
+    - 必須入力チェック
+    - 一致チェック
+ 4. 権限
+    - 必須選択チェック
+    - 選択値の有効性チェック
+ 5. メールアドレス
+    - 必須入力チェック
+    - 形式チェック
+    - 重複チェック
+ 6. 氏名
+    - 必須入力チェック
+    - 文字数チェック（1-50文字）
+ 7. 所属部署
+    - 必須選択チェック
+    - 選択値の有効性チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | ユーザーID未入力 | 「ユーザーIDを入力してください」 |
+ | ユーザーID形式不正 | 「ユーザーIDは半角英数字で入力してください」 |
+ | ユーザーID文字数不正 | 「ユーザーIDは4文字以上20文字以内で入力してください」 |
+ | ユーザーID重複 | 「このユーザーIDは既に使用されています」 |
+ | パスワード未入力 | 「パスワードを入力してください」 |
+ | パスワード形式不正 | 「パスワードは英大文字・小文字・数字をそれぞれ1文字以上含む必要があります」 |
+ | パスワード文字数不正 | 「パスワードは8文字以上32文字以内で入力してください」 |
+ | パスワード不一致 | 「パスワードが一致しません」 |
+ | 権限未選択 | 「権限を選択してください」 |
+ | メールアドレス未入力 | 「メールアドレスを入力してください」 |
+ | メールアドレス形式不正 | 「正しいメールアドレスを入力してください」 |
+ | メールアドレス重複 | 「このメールアドレスは既に使用されています」 |
+ | 氏名未入力 | 「氏名を入力してください」 |
+ | 氏名文字数不正 | 「氏名は50文字以内で入力してください」 |
+ | 所属部署未選択 | 「所属部署を選択してください」 |
+ | 登録エラー | 「ユーザーの登録に失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 登録ボタン押下（成功時） | ユーザー登録完了画面 |
+ | 登録ボタン押下（失敗時） | 同画面（エラーメッセージ表示） |
+ | キャンセルボタン押下 | ユーザー一覧画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

次に、`SCR_047_ユーザー権限設定画面`の画面定義書を確認し、更新を進めます。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_047_ユーザー権限設定画面/047_画面定義書.md

---

`SCR_047_ユーザー権限設定画面`の画面定義書を更新します。

---

```diff
  | 出力 | [{table:"users",items:["user_id","role"]}] |
  | 共通コンポーネントファイル | ヘッダー、フッター、サイドメニュー |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | ユーザーID検索 | ○ | テキスト入力 | 半角英数字、4文字以上20文字以内 |
+ | 検索ボタン | - | ボタン | クリック可能状態であること |
+ | ユーザー情報表示 | - | テキスト（表示のみ） | ユーザーID、氏名、所属部署を表示 |
+ | 権限設定 | ○ | チェックボックスグループ | 複数選択可能 |
+ | - 在庫管理権限 | - | チェックボックス | 選択/未選択 |
+ | - 発注管理権限 | - | チェックボックス | 選択/未選択 |
+ | - アラート設定権限 | - | チェックボックス | 選択/未選択 |
+ | - ユーザー管理権限 | - | チェックボックス | 選択/未選択 |
+ | - レポート出力権限 | - | チェックボックス | 選択/未選択 |
+ | 保存ボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. ユーザーID検索
+    - 必須入力チェック
+    - 半角英数字チェック
+    - 文字数チェック（4-20文字）
+    - 存在チェック
+ 2. 権限設定
+    - 必須選択チェック（1つ以上）
+    - 選択値の有効性チェック
+    - 権限の組み合わせ整合性チェック
+ 3. 保存操作
+    - ユーザー権限チェック
+    - 必須項目入力済みチェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | ユーザーID未入力 | 「ユーザーIDを入力してください」 |
+ | ユーザーID形式不正 | 「ユーザーIDは半角英数字で入力してください」 |
+ | ユーザーID文字数不正 | 「ユーザーIDは4文字以上20文字以内で入力してください」 |
+ | ユーザーID不存在 | 「指定されたユーザーIDは存在しません」 |
+ | 権限未選択 | 「権限を1つ以上選択してください」 |
+ | 権限組み合わせ不正 | 「選択された権限の組み合わせが不正です」 |
+ | 保存エラー | 「権限設定の保存に失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 検索ボタン押下 | 同画面（検索結果表示） |
+ | 保存ボタン押下（成功時） | 権限設定完了画面 |
+ | 保存ボタン押下（失敗時） | 同画面（エラーメッセージ表示） |
+ | キャンセルボタン押下 | ユーザー一覧画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

`SCR_047_ユーザー権限設定画面`の画面定義書に以下の4つのセクションを追加しました：

1. **入力項目の詳細仕様**：
   - ユーザーID検索、検索ボタン、ユーザー情報表示
   - 5つの権限設定用チェックボックス（在庫管理、発注管理、アラート設定、ユーザー管理、レポート出力）
   - 保存ボタン

2. **入力値の検証ルール**：
   - ユーザーID検索の各種チェック
   - 権限設定の必須選択と整合性チェック
   - 保存操作時の権限チェック

3. **エラーメッセージ一覧**：
   - ユーザーID関連のエラー
   - 権限設定関連のエラー
   - システムエラー

4. **画面遷移**：
   - 検索、保存、キャンセル時の遷移先を定義

次は`SCR_048_ユーザー権限設定完了画面`の画面定義書を確認し、更新を行います。

---

Could not find file '/Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_048_ユーザー権限設定完了画面/048_画面定義書.md' in the workspace.

---

申し訳ありません。`SCR_048_ユーザー権限設定完了画面`の画面定義書が見つかりませんでした。このファイルはまだ作成されていないようです。新しく作成する必要があります。

---

Cancelled

---

_**User**_

@SCR_048_操作ログ検索画面 @SCR_049_監査レポート出力画面 @SCR_050_発注データ確認画面 @SCR_051_発注データ登録完了画面 @SCR_052_発注データ更新画面 @SCR_053_発注データ更新完了画面 @SCR_054_発注書自動生成画面 @SCR_055_発注書プレビュー画面 をお願いします。引き続き @screen_definition_workflow.md に従ってね

---

_**Assistant**_

はい、画面定義書の更新を順番に進めていきます。まず`SCR_048_操作ログ検索画面`から確認していきましょう。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_048_操作ログ検索画面/048_画面定義書.md

---

`SCR_048_操作ログ検索画面`の画面定義書を更新します。

---

```diff
  | 出力 | 無し |
  | 共通コンポーネントファイル | ヘッダー、フッター、サイドメニュー |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | ユーザーID | - | テキスト入力 | 半角英数字、4文字以上20文字以内 |
+ | 期間指定（開始） | ○ | 日付入力 | 本日以前の日付 |
+ | 期間指定（終了） | ○ | 日付入力 | 開始日以降、本日以前の日付 |
+ | 操作種類 | - | ドロップダウン | 以下から選択：「全て」「ログイン」「データ参照」「データ更新」「データ削除」「権限変更」 |
+ | 検索ボタン | - | ボタン | クリック可能状態であること |
+ | 検索結果表示 | - | テーブル（表示のみ） | ソート可能、ページング機能あり |
+ | - 操作日時 | - | 日時（表示のみ） | YYYY/MM/DD HH:mm:ss形式 |
+ | - ユーザーID | - | テキスト（表示のみ） | - |
+ | - 操作種類 | - | テキスト（表示のみ） | - |
+ | - 操作内容 | - | テキスト（表示のみ） | - |
+ | CSVダウンロードボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. ユーザーID
+    - 半角英数字チェック
+    - 文字数チェック（4-20文字）
+    - 存在チェック（入力時のみ）
+ 2. 期間指定
+    - 必須入力チェック
+    - 日付形式チェック
+    - 日付範囲の妥当性チェック
+    - 期間の範囲チェック（最大1年間）
+ 3. 操作種類
+    - 選択値の有効性チェック
+ 4. 検索操作
+    - ユーザー権限チェック
+    - 検索条件の組み合わせチェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | ユーザーID形式不正 | 「ユーザーIDは半角英数字で入力してください」 |
+ | ユーザーID文字数不正 | 「ユーザーIDは4文字以上20文字以内で入力してください」 |
+ | ユーザーID不存在 | 「指定されたユーザーIDは存在しません」 |
+ | 期間開始日未入力 | 「期間の開始日を入力してください」 |
+ | 期間終了日未入力 | 「期間の終了日を入力してください」 |
+ | 期間日付不正 | 「正しい日付を入力してください」 |
+ | 期間範囲不正 | 「終了日は開始日以降の日付を指定してください」 |
+ | 期間範囲超過 | 「検索期間は1年以内を指定してください」 |
+ | 検索条件不正 | 「検索条件を正しく指定してください」 |
+ | データ取得エラー | 「操作ログの取得に失敗しました」 |
+ | CSVダウンロードエラー | 「CSVファイルの生成に失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 検索ボタン押下 | 同画面（検索結果表示） |
+ | CSVダウンロードボタン押下 | ファイルダウンロード |
+ | キャンセルボタン押下 | ダッシュボード画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

続いて、`SCR_049_監査レポート出力画面`の更新を行います。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_049_監査レポート出力画面/049_画面定義書.md

---

`SCR_049_監査レポート出力画面`の画面定義書を更新します。

---

```diff
  | 出力 | 無し |
  | 共通コンポーネントファイル | ヘッダー、フッター、サイドメニュー |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | レポート種類 | ○ | ラジオボタン | 以下から選択：「操作ログレポート」「アクセス権限変更レポート」「在庫変動レポート」「発注履歴レポート」 |
+ | 期間指定（開始） | ○ | 日付入力 | 本日以前の日付 |
+ | 期間指定（終了） | ○ | 日付入力 | 開始日以降、本日以前の日付 |
+ | ユーザー指定 | - | ドロップダウン | 登録済みユーザーから選択、複数選択可能 |
+ | 出力形式 | ○ | ラジオボタン | 以下から選択：「PDF」「Excel」「CSV」 |
+ | プレビューボタン | - | ボタン | クリック可能状態であること |
+ | 出力ボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. レポート種類
+    - 必須選択チェック
+    - 選択値の有効性チェック
+ 2. 期間指定
+    - 必須入力チェック
+    - 日付形式チェック
+    - 日付範囲の妥当性チェック
+    - 期間の範囲チェック（最大1年間）
+ 3. ユーザー指定
+    - 選択値の有効性チェック
+ 4. 出力形式
+    - 必須選択チェック
+    - 選択値の有効性チェック
+ 5. 出力操作
+    - ユーザー権限チェック
+    - 出力条件の組み合わせチェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | レポート種類未選択 | 「レポート種類を選択してください」 |
+ | 期間開始日未入力 | 「期間の開始日を入力してください」 |
+ | 期間終了日未入力 | 「期間の終了日を入力してください」 |
+ | 期間日付不正 | 「正しい日付を入力してください」 |
+ | 期間範囲不正 | 「終了日は開始日以降の日付を指定してください」 |
+ | 期間範囲超過 | 「出力期間は1年以内を指定してください」 |
+ | ユーザー選択不正 | 「有効なユーザーを選択してください」 |
+ | 出力形式未選択 | 「出力形式を選択してください」 |
+ | データ取得エラー | 「レポートデータの取得に失敗しました」 |
+ | プレビュー生成エラー | 「プレビューの生成に失敗しました」 |
+ | レポート生成エラー | 「レポートの生成に失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | プレビューボタン押下 | レポートプレビュー画面 |
+ | 出力ボタン押下（成功時） | ファイルダウンロード |
+ | 出力ボタン押下（失敗時） | 同画面（エラーメッセージ表示） |
+ | キャンセルボタン押下 | ダッシュボード画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

続いて、`SCR_050_発注データ確認画面`の更新を行います。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_050_発注データ確認画面/050_画面定義書.md

---

`SCR_050_発注データ確認画面`の画面定義書を更新します。

---

```diff
  | 出力 | [] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\", \"Navigation.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 発注番号 | - | テキスト（表示のみ） | 自動採番 |
+ | 発注日 | - | 日付（表示のみ） | YYYY/MM/DD形式 |
+ | 発注先情報 | - | テキスト（表示のみ） | - |
+ | - 発注先コード | - | テキスト（表示のみ） | - |
+ | - 発注先名 | - | テキスト（表示のみ） | - |
+ | - 担当者名 | - | テキスト（表示のみ） | - |
+ | 商品情報 | - | テーブル（表示のみ） | - |
+ | - 商品コード | - | テキスト（表示のみ） | - |
+ | - 商品名 | - | テキスト（表示のみ） | - |
+ | - 発注数量 | - | 数値（表示のみ） | - |
+ | - 単価 | - | 数値（表示のみ） | - |
+ | - 金額 | - | 数値（表示のみ） | - |
+ | 納期 | - | 日付（表示のみ） | YYYY/MM/DD形式 |
+ | 合計金額 | - | 数値（表示のみ） | カンマ区切り |
+ | 備考 | - | テキスト（表示のみ） | - |
+ | 確認ボタン | - | ボタン | クリック可能状態であること |
+ | 修正ボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. 表示データ
+    - データ表示整合性チェック
+    - 表示データの完全性チェック
+ 2. 確認操作
+    - ユーザー権限チェック
+    - データ整合性チェック
+ 3. 修正操作
+    - ユーザー権限チェック
+    - データ整合性チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | データ取得エラー | 「発注データの取得に失敗しました」 |
+ | データ不整合 | 「発注データに不整合があります」 |
+ | 確認処理エラー | 「発注データの確認処理に失敗しました」 |
+ | 修正処理エラー | 「発注データの修正処理に失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 確認ボタン押下（成功時） | 発注データ登録完了画面 |
+ | 確認ボタン押下（失敗時） | 同画面（エラーメッセージ表示） |
+ | 修正ボタン押下 | 発注データ更新画面 |
+ | キャンセルボタン押下 | 発注一覧画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

続いて、`SCR_051_発注データ登録完了画面`の更新を行います。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_051_発注データ登録完了画面/051_画面定義書.md

---

`SCR_051_発注データ登録完了画面`の画面定義書を更新します。

---

```diff
  | 出力 | [] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\", \"Navigation.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 完了メッセージ | - | テキスト（表示のみ） | - |
+ | 登録内容表示 | - | テーブル（表示のみ） | - |
+ | - 発注番号 | - | テキスト（表示のみ） | - |
+ | - 発注日 | - | 日付（表示のみ） | YYYY/MM/DD形式 |
+ | - 発注先名 | - | テキスト（表示のみ） | - |
+ | - 商品数 | - | 数値（表示のみ） | - |
+ | - 合計金額 | - | 数値（表示のみ） | カンマ区切り |
+ | 発注状況照会へボタン | - | ボタン | クリック可能状態であること |
+ | 発注書生成へボタン | - | ボタン | クリック可能状態であること |
+ | 新規発注登録へボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. 表示データ
+    - データ表示整合性チェック
+    - 表示データの完全性チェック
+ 2. ボタン操作
+    - ユーザー権限チェック
+    - ボタンクリック可能状態チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | データ表示エラー | 「登録内容の表示に失敗しました」 |
+ | 画面遷移エラー | 「画面の遷移に失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 発注状況照会へボタン押下 | 発注状況照会画面 |
+ | 発注書生成へボタン押下 | 発注書自動生成画面 |
+ | 新規発注登録へボタン押下 | 発注データ登録画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

続いて、`SCR_052_発注データ更新画面`の更新を行います。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_052_発注データ更新画面/052_画面定義書.md

---

`SCR_052_発注データ更新画面`の画面定義書を更新します。

---

```diff
  | 出力 | [{table:"orders",items:["order_id","product_code","order_quantity","supplier","delivery_date","order_date","order_status","order_supplier"]}] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\", \"Navigation.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 発注番号 | - | テキスト（表示のみ） | - |
+ | 発注日 | - | 日付（表示のみ） | YYYY/MM/DD形式 |
+ | 発注先 | ○ | ドロップダウン | 登録済み発注先から選択 |
+ | 商品情報 | - | テーブル | - |
+ | - 商品コード | ○ | ドロップダウン | 登録済み商品から選択 |
+ | - 商品名 | - | テキスト（表示のみ） | - |
+ | - 発注数量 | ○ | 数値入力 | 1以上の整数 |
+ | - 単価 | - | 数値（表示のみ） | - |
+ | - 金額 | - | 数値（表示のみ） | - |
+ | - 削除ボタン | - | ボタン | クリック可能状態であること |
+ | 商品追加ボタン | - | ボタン | クリック可能状態であること |
+ | 納期 | ○ | 日付入力 | 本日以降の日付 |
+ | 発注担当者 | ○ | ドロップダウン | ログインユーザーがデフォルト |
+ | 備考 | - | テキストエリア | 最大500文字 |
+ | 更新ボタン | - | ボタン | クリック可能状態であること |
+ | クリアボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. 発注先
+    - 必須選択チェック
+    - 選択値の有効性チェック
+ 2. 商品情報
+    - 商品コード必須チェック
+    - 発注数量必須チェック
+    - 発注数量の数値範囲チェック（1以上）
+    - 商品の重複チェック
+ 3. 納期
+    - 必須入力チェック
+    - 日付形式チェック
+    - 日付範囲チェック（本日以降）
+ 4. 発注担当者
+    - 必須選択チェック
+    - 選択値の有効性チェック
+ 5. 備考
+    - 文字数チェック（最大500文字）
+ 6. 更新操作
+    - ユーザー権限チェック
+    - 必須項目入力済みチェック
+    - データ整合性チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | 発注先未選択 | 「発注先を選択してください」 |
+ | 商品未選択 | 「商品を選択してください」 |
+ | 商品重複 | 「同じ商品が既に追加されています」 |
+ | 発注数量未入力 | 「発注数量を入力してください」 |
+ | 発注数量不正 | 「発注数量は1以上の整数を入力してください」 |
+ | 納期未入力 | 「納期を入力してください」 |
+ | 納期不正 | 「納期は本日以降の日付を指定してください」 |
+ | 発注担当者未選択 | 「発注担当者を選択してください」 |
+ | 備考文字数超過 | 「備考は500文字以内で入力してください」 |
+ | データ取得エラー | 「発注データの取得に失敗しました」 |
+ | 更新エラー | 「発注データの更新に失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 更新ボタン押下（成功時） | 発注データ更新完了画面 |
+ | 更新ボタン押下（失敗時） | 同画面（エラーメッセージ表示） |
+ | クリアボタン押下 | 同画面（入力値をクリア） |
+ | キャンセルボタン押下 | 発注一覧画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

続いて、`SCR_053_発注データ更新完了画面`の更新を行います。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_053_発注データ更新完了画面/053_画面定義書.md

---

`SCR_053_発注データ更新完了画面`の画面定義書を更新します。

---

```diff
  | 出力 | [] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\", \"Navigation.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 完了メッセージ | - | テキスト（表示のみ） | - |
+ | 更新内容表示 | - | テーブル（表示のみ） | - |
+ | - 発注番号 | - | テキスト（表示のみ） | - |
+ | - 発注日 | - | 日付（表示のみ） | YYYY/MM/DD形式 |
+ | - 発注先名 | - | テキスト（表示のみ） | - |
+ | - 商品数 | - | 数値（表示のみ） | - |
+ | - 合計金額 | - | 数値（表示のみ） | カンマ区切り |
+ | 発注状況照会へボタン | - | ボタン | クリック可能状態であること |
+ | 発注書生成へボタン | - | ボタン | クリック可能状態であること |
+ | 発注一覧へボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. 表示データ
+    - データ表示整合性チェック
+    - 表示データの完全性チェック
+ 2. ボタン操作
+    - ユーザー権限チェック
+    - ボタンクリック可能状態チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | データ表示エラー | 「更新内容の表示に失敗しました」 |
+ | 画面遷移エラー | 「画面の遷移に失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 発注状況照会へボタン押下 | 発注状況照会画面 |
+ | 発注書生成へボタン押下 | 発注書自動生成画面 |
+ | 発注一覧へボタン押下 | 発注一覧画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

続いて、`SCR_054_発注書自動生成画面`の更新を行います。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_054_発注書自動生成画面/054_画面定義書.md

---

`SCR_054_発注書自動生成画面`の画面定義書を更新します。

---

```diff
  | 出力 | [] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\", \"Navigation.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 発注データ選択 | ○ | ドロップダウン | 未発行の発注データから選択 |
+ | 発注データ表示 | - | テーブル（表示のみ） | - |
+ | - 発注番号 | - | テキスト（表示のみ） | - |
+ | - 発注日 | - | 日付（表示のみ） | YYYY/MM/DD形式 |
+ | - 発注先名 | - | テキスト（表示のみ） | - |
+ | - 商品数 | - | 数値（表示のみ） | - |
+ | - 合計金額 | - | 数値（表示のみ） | カンマ区切り |
+ | 発注書フォーマット | ○ | ラジオボタン | 以下から選択：「標準フォーマット」「カスタムフォーマット」 |
+ | 生成ボタン | - | ボタン | クリック可能状態であること |
+ | プレビューボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. 発注データ選択
+    - 必須選択チェック
+    - 選択値の有効性チェック
+    - 発注書未発行チェック
+ 2. 発注書フォーマット
+    - 必須選択チェック
+    - 選択値の有効性チェック
+ 3. 生成操作
+    - ユーザー権限チェック
+    - データ整合性チェック
+ 4. プレビュー操作
+    - ユーザー権限チェック
+    - データ整合性チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | 発注データ未選択 | 「発注データを選択してください」 |
+ | 発注データ無効 | 「選択された発注データは無効です」 |
+ | 発注書既発行 | 「選択された発注データは既に発注書が発行されています」 |
+ | フォーマット未選択 | 「発注書フォーマットを選択してください」 |
+ | データ取得エラー | 「発注データの取得に失敗しました」 |
+ | 生成エラー | 「発注書の生成に失敗しました」 |
+ | プレビューエラー | 「プレビューの生成に失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 生成ボタン押下（成功時） | 発注書プレビュー画面 |
+ | 生成ボタン押下（失敗時） | 同画面（エラーメッセージ表示） |
+ | プレビューボタン押下 | 発注書プレビュー画面 |
+ | キャンセルボタン押下 | 発注一覧画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

最後に、`SCR_055_発注書プレビュー画面`の更新を行います。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_055_発注書プレビュー画面/055_画面定義書.md

---

`SCR_055_発注書プレビュー画面`の画面定義書を更新します。

---

```diff
  | 出力 | [] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\", \"Navigation.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | プレビュー表示 | - | PDF表示（表示のみ） | 拡大・縮小・ページ送り可能 |
+ | 発注書情報表示 | - | テーブル（表示のみ） | - |
+ | - 発注番号 | - | テキスト（表示のみ） | - |
+ | - 発注日 | - | 日付（表示のみ） | YYYY/MM/DD形式 |
+ | - 発注先名 | - | テキスト（表示のみ） | - |
+ | - ページ数 | - | 数値（表示のみ） | - |
+ | 出力形式 | ○ | ラジオボタン | 以下から選択：「PDF」「Excel」 |
+ | 出力ボタン | - | ボタン | クリック可能状態であること |
+ | 再生成ボタン | - | ボタン | クリック可能状態であること |
+ | メール送信ボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. プレビュー表示
+    - データ表示整合性チェック
+    - 表示データの完全性チェック
+ 2. 出力形式
+    - 必須選択チェック
+    - 選択値の有効性チェック
+ 3. 出力操作
+    - ユーザー権限チェック
+    - データ整合性チェック
+ 4. メール送信操作
+    - ユーザー権限チェック
+    - 発注先メールアドレス存在チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | プレビュー表示エラー | 「発注書のプレビュー表示に失敗しました」 |
+ | 出力形式未選択 | 「出力形式を選択してください」 |
+ | データ取得エラー | 「発注書データの取得に失敗しました」 |
+ | 出力エラー | 「発注書の出力に失敗しました」 |
+ | 再生成エラー | 「発注書の再生成に失敗しました」 |
+ | メール送信エラー | 「発注書のメール送信に失敗しました」 |
+ | メールアドレス未登録 | 「発注先のメールアドレスが登録されていません」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 出力ボタン押下（成功時） | ファイルダウンロード |
+ | 出力ボタン押下（失敗時） | 同画面（エラーメッセージ表示） |
+ | 再生成ボタン押下 | 発注書自動生成画面 |
+ | メール送信ボタン押下（成功時） | 同画面（完了メッセージ表示） |
+ | メール送信ボタン押下（失敗時） | 同画面（エラーメッセージ表示） |
+ | キャンセルボタン押下 | 発注一覧画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

以上で、指定された8つの画面定義書の更新が完了しました。各画面定義書に以下の4つのセクションを追加しました：

1. 入力項目の詳細仕様
2. 入力値の検証ルール
3. エラーメッセージ一覧
4. 画面遷移

更新した画面定義書：
- `SCR_048_操作ログ検索画面`
- `SCR_049_監査レポート出力画面`
- `SCR_050_発注データ確認画面`
- `SCR_051_発注データ登録完了画面`
- `SCR_052_発注データ更新画面`
- `SCR_053_発注データ更新完了画面`
- `SCR_054_発注書自動生成画面`
- `SCR_055_発注書プレビュー画面`

すべての更新は`screen_definition_workflow.md`のガイドラインに従って行われ、既存の内容は変更せず、必要なセクションのみを追加しました。各画面の特性に応じて、適切な入力項目、検証ルール、エラーメッセージ、画面遷移を定義しています。

---

_**User**_

@SCR_056_発注書出力画面 @SCR_057_発注状況照会画面 @SCR_058_発注詳細画面 @SCR_059_発注承認依頼画面 @SCR_060_発注承認画面 @SCR_061_発注却下画面 @SCR_062_サプライヤー登録画面 @SCR_063_サプライヤー登録完了画面 をお願いします。引き続き @screen_definition_workflow.md に従ってね。

---

_**Assistant**_

まず、`SCR_056_発注書出力画面`の内容を確認し、更新を行います。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_056_発注書出力画面/056_画面定義書.md

---

`SCR_056_発注書出力画面`の画面定義書を更新します。

---

```diff
  | 出力 | [] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\", \"Navigation.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 発注書情報表示 | - | テーブル（表示のみ） | - |
+ | - 発注番号 | - | テキスト（表示のみ） | - |
+ | - 発注日 | - | 日付（表示のみ） | YYYY/MM/DD形式 |
+ | - 発注先名 | - | テキスト（表示のみ） | - |
+ | - 商品数 | - | 数値（表示のみ） | - |
+ | - 合計金額 | - | 数値（表示のみ） | カンマ区切り |
+ | 出力形式 | ○ | ラジオボタン | 以下から選択：「PDF」「Excel」 |
+ | 出力ボタン | - | ボタン | クリック可能状態であること |
+ | メール送信ボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. 出力形式
+    - 必須選択チェック
+    - 選択値の有効性チェック
+ 2. 出力操作
+    - ユーザー権限チェック
+    - データ整合性チェック
+ 3. メール送信操作
+    - ユーザー権限チェック
+    - 発注先メールアドレス存在チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | 出力形式未選択 | 「出力形式を選択してください」 |
+ | データ取得エラー | 「発注書データの取得に失敗しました」 |
+ | 出力エラー | 「発注書の出力に失敗しました」 |
+ | メール送信エラー | 「発注書のメール送信に失敗しました」 |
+ | メールアドレス未登録 | 「発注先のメールアドレスが登録されていません」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 出力ボタン押下（成功時） | ファイルダウンロード |
+ | 出力ボタン押下（失敗時） | 同画面（エラーメッセージ表示） |
+ | メール送信ボタン押下（成功時） | 同画面（完了メッセージ表示） |
+ | メール送信ボタン押下（失敗時） | 同画面（エラーメッセージ表示） |
+ | キャンセルボタン押下 | 発注状況照会画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

次に、`SCR_057_発注状況照会画面`の内容を確認し、更新を行います。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_057_発注状況照会画面/057_画面定義書.md

---

`SCR_057_発注状況照会画面`の画面定義書を更新します。

---

```diff
  | 出力 | [] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\", \"Navigation.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 発注ID | - | テキスト入力 | 半角英数字、最大20文字 |
+ | 商品コード | - | テキスト入力 | 半角英数字、最大20文字 |
+ | サプライヤー | - | ドロップダウン | 登録済みサプライヤーから選択 |
+ | 発注日範囲（開始） | - | 日付入力 | YYYY/MM/DD形式 |
+ | 発注日範囲（終了） | - | 日付入力 | YYYY/MM/DD形式 |
+ | 発注状況 | - | ドロップダウン | 以下から選択：「全て」「未承認」「承認済」「発注済」「納品済」「キャンセル」 |
+ | 検索ボタン | - | ボタン | クリック可能状態であること |
+ | クリアボタン | - | ボタン | クリック可能状態であること |
+ | 発注状況一覧 | - | テーブル（表示のみ） | ソート可能、ページング機能あり |
+ | - 発注ID | - | テキスト（表示のみ） | - |
+ | - 発注日 | - | 日付（表示のみ） | YYYY/MM/DD形式 |
+ | - サプライヤー名 | - | テキスト（表示のみ） | - |
+ | - 商品数 | - | 数値（表示のみ） | - |
+ | - 合計金額 | - | 数値（表示のみ） | カンマ区切り |
+ | - 発注状況 | - | テキスト（表示のみ） | - |
+ | - 詳細リンク | - | リンク | クリック可能状態であること |
+ | CSVダウンロードボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. 発注ID
+    - 半角英数字チェック
+    - 文字数チェック（最大20文字）
+ 2. 商品コード
+    - 半角英数字チェック
+    - 文字数チェック（最大20文字）
+ 3. 発注日範囲
+    - 日付形式チェック
+    - 日付範囲の妥当性チェック
+ 4. 検索操作
+    - ユーザー権限チェック
+    - 検索条件の組み合わせチェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | 発注ID形式不正 | 「発注IDは半角英数字で入力してください」 |
+ | 発注ID文字数超過 | 「発注IDは20文字以内で入力してください」 |
+ | 商品コード形式不正 | 「商品コードは半角英数字で入力してください」 |
+ | 商品コード文字数超過 | 「商品コードは20文字以内で入力してください」 |
+ | 発注日形式不正 | 「正しい日付形式で入力してください」 |
+ | 発注日範囲不正 | 「終了日は開始日以降の日付を指定してください」 |
+ | データ取得エラー | 「発注データの取得に失敗しました」 |
+ | CSVダウンロードエラー | 「CSVファイルの生成に失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 検索ボタン押下 | 同画面（検索結果表示） |
+ | クリアボタン押下 | 同画面（検索条件クリア） |
+ | 詳細リンク押下 | 発注詳細画面 |
+ | CSVダウンロードボタン押下 | ファイルダウンロード |
+ | キャンセルボタン押下 | ダッシュボード画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

次に、`SCR_058_発注詳細画面`の内容を確認し、更新を行います。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_058_発注詳細画面/058_画面定義書.md

---

`SCR_058_発注詳細画面`の画面定義書を更新します。

---

```diff
  | 出力 | [] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\", \"Navigation.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 発注基本情報 | - | テーブル（表示のみ） | - |
+ | - 発注ID | - | テキスト（表示のみ） | - |
+ | - 発注日 | - | 日付（表示のみ） | YYYY/MM/DD形式 |
+ | - 発注状況 | - | テキスト（表示のみ） | - |
+ | - 承認状況 | - | テキスト（表示のみ） | - |
+ | サプライヤー情報 | - | テーブル（表示のみ） | - |
+ | - サプライヤーコード | - | テキスト（表示のみ） | - |
+ | - サプライヤー名 | - | テキスト（表示のみ） | - |
+ | - 担当者名 | - | テキスト（表示のみ） | - |
+ | - 連絡先 | - | テキスト（表示のみ） | - |
+ | 商品情報 | - | テーブル（表示のみ） | - |
+ | - 商品コード | - | テキスト（表示のみ） | - |
+ | - 商品名 | - | テキスト（表示のみ） | - |
+ | - 発注数量 | - | 数値（表示のみ） | - |
+ | - 単価 | - | 数値（表示のみ） | カンマ区切り |
+ | - 金額 | - | 数値（表示のみ） | カンマ区切り |
+ | 納期情報 | - | テーブル（表示のみ） | - |
+ | - 希望納期 | - | 日付（表示のみ） | YYYY/MM/DD形式 |
+ | - 確定納期 | - | 日付（表示のみ） | YYYY/MM/DD形式 |
+ | 更新ボタン | - | ボタン | 発注状況が「未承認」の場合のみ表示 |
+ | 承認依頼ボタン | - | ボタン | 発注状況が「未承認」の場合のみ表示 |
+ | 発注書生成ボタン | - | ボタン | 発注状況が「承認済」の場合のみ表示 |
+ | 履歴表示ボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. 表示データ
+    - データ表示整合性チェック
+    - 表示データの完全性チェック
+ 2. ボタン操作
+    - ユーザー権限チェック
+    - 発注状況に応じた操作可否チェック
+ 3. 画面遷移
+    - 遷移先画面の権限チェック
+    - データ整合性チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | データ取得エラー | 「発注データの取得に失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | 更新不可エラー | 「この発注データは更新できません」 |
+ | 承認依頼不可エラー | 「この発注データは承認依頼できません」 |
+ | 発注書生成不可エラー | 「この発注データは発注書を生成できません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 更新ボタン押下 | 発注データ更新画面 |
+ | 承認依頼ボタン押下 | 発注承認依頼画面 |
+ | 発注書生成ボタン押下 | 発注書自動生成画面 |
+ | 履歴表示ボタン押下 | 発注履歴画面 |
+ | キャンセルボタン押下 | 発注状況照会画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

次に、`SCR_059_発注承認依頼画面`の内容を確認し、更新を行います。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_059_発注承認依頼画面/059_画面定義書.md

---

`SCR_059_発注承認依頼画面`の画面定義書を更新します。

---

```diff
  | 出力 | [] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\", \"Navigation.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 発注基本情報 | - | テーブル（表示のみ） | - |
+ | - 発注ID | - | テキスト（表示のみ） | - |
+ | - 発注日 | - | 日付（表示のみ） | YYYY/MM/DD形式 |
+ | - 発注状況 | - | テキスト（表示のみ） | - |
+ | サプライヤー情報 | - | テーブル（表示のみ） | - |
+ | - サプライヤー名 | - | テキスト（表示のみ） | - |
+ | - 担当者名 | - | テキスト（表示のみ） | - |
+ | 商品情報 | - | テーブル（表示のみ） | - |
+ | - 商品コード | - | テキスト（表示のみ） | - |
+ | - 商品名 | - | テキスト（表示のみ） | - |
+ | - 発注数量 | - | 数値（表示のみ） | - |
+ | - 単価 | - | 数値（表示のみ） | カンマ区切り |
+ | - 金額 | - | 数値（表示のみ） | カンマ区切り |
+ | 合計金額 | - | 数値（表示のみ） | カンマ区切り |
+ | 承認者選択 | ○ | ドロップダウン | 承認権限を持つユーザーから選択 |
+ | コメント | - | テキストエリア | 最大500文字 |
+ | 承認依頼ボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. 表示データ
+    - データ表示整合性チェック
+    - 表示データの完全性チェック
+ 2. 承認者選択
+    - 必須選択チェック
+    - 選択値の有効性チェック
+    - 承認権限チェック
+ 3. コメント
+    - 文字数チェック（最大500文字）
+ 4. 承認依頼操作
+    - ユーザー権限チェック
+    - 発注状況チェック（未承認のみ可能）
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | データ取得エラー | 「発注データの取得に失敗しました」 |
+ | 承認者未選択 | 「承認者を選択してください」 |
+ | 承認者権限エラー | 「選択されたユーザーは承認権限を持っていません」 |
+ | コメント文字数超過 | 「コメントは500文字以内で入力してください」 |
+ | 承認依頼不可 | 「この発注データは承認依頼できません」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 承認依頼ボタン押下（成功時） | 発注状況照会画面（完了メッセージ表示） |
+ | 承認依頼ボタン押下（失敗時） | 同画面（エラーメッセージ表示） |
+ | キャンセルボタン押下 | 発注詳細画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

次に、`SCR_060_発注承認画面`の内容を確認し、更新を行います。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_060_発注承認画面/060_画面定義書.md

---

`SCR_060_発注承認画面`の画面定義書を更新します。

---

```diff
  | 出力 | [{table:"orders",items:["order_id", "order_status"]}] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\", \"Navigation.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 発注基本情報 | - | テーブル（表示のみ） | - |
+ | - 発注ID | - | テキスト（表示のみ） | - |
+ | - 発注日 | - | 日付（表示のみ） | YYYY/MM/DD形式 |
+ | - 発注状況 | - | テキスト（表示のみ） | - |
+ | - 承認依頼者 | - | テキスト（表示のみ） | - |
+ | - 依頼日時 | - | 日時（表示のみ） | YYYY/MM/DD HH:mm:ss形式 |
+ | サプライヤー情報 | - | テーブル（表示のみ） | - |
+ | - サプライヤー名 | - | テキスト（表示のみ） | - |
+ | - 担当者名 | - | テキスト（表示のみ） | - |
+ | 商品情報 | - | テーブル（表示のみ） | - |
+ | - 商品コード | - | テキスト（表示のみ） | - |
+ | - 商品名 | - | テキスト（表示のみ） | - |
+ | - 発注数量 | - | 数値（表示のみ） | - |
+ | - 単価 | - | 数値（表示のみ） | カンマ区切り |
+ | - 金額 | - | 数値（表示のみ） | カンマ区切り |
+ | 合計金額 | - | 数値（表示のみ） | カンマ区切り |
+ | 依頼コメント | - | テキスト（表示のみ） | - |
+ | 承認コメント | - | テキストエリア | 最大500文字 |
+ | 承認ボタン | - | ボタン | クリック可能状態であること |
+ | 却下ボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. 表示データ
+    - データ表示整合性チェック
+    - 表示データの完全性チェック
+ 2. 承認コメント
+    - 文字数チェック（最大500文字）
+ 3. 承認操作
+    - ユーザー権限チェック
+    - 承認権限チェック
+    - 発注状況チェック（承認依頼中のみ可能）
+ 4. 却下操作
+    - ユーザー権限チェック
+    - 承認権限チェック
+    - 発注状況チェック（承認依頼中のみ可能）
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | データ取得エラー | 「発注データの取得に失敗しました」 |
+ | コメント文字数超過 | 「コメントは500文字以内で入力してください」 |
+ | 承認権限エラー | 「この発注データの承認権限がありません」 |
+ | 承認不可 | 「この発注データは承認できません」 |
+ | 却下不可 | 「この発注データは却下できません」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 承認ボタン押下（成功時） | 発注状況照会画面（完了メッセージ表示） |
+ | 承認ボタン押下（失敗時） | 同画面（エラーメッセージ表示） |
+ | 却下ボタン押下 | 発注却下画面 |
+ | キャンセルボタン押下 | 発注状況照会画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

次に、`SCR_061_発注却下画面`の内容を確認し、更新を行います。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_061_発注却下画面/061_画面定義書.md

---

`SCR_061_発注却下画面`の画面定義書を更新します。

---

```diff
  | 出力 | [{table:"orders",items:["order_id", "order_status"]}] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\", \"Navigation.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 発注基本情報 | - | テーブル（表示のみ） | - |
+ | - 発注ID | - | テキスト（表示のみ） | - |
+ | - 発注日 | - | 日付（表示のみ） | YYYY/MM/DD形式 |
+ | - 発注状況 | - | テキスト（表示のみ） | - |
+ | - 承認依頼者 | - | テキスト（表示のみ） | - |
+ | - 依頼日時 | - | 日時（表示のみ） | YYYY/MM/DD HH:mm:ss形式 |
+ | サプライヤー情報 | - | テーブル（表示のみ） | - |
+ | - サプライヤー名 | - | テキスト（表示のみ） | - |
+ | - 担当者名 | - | テキスト（表示のみ） | - |
+ | 商品情報 | - | テーブル（表示のみ） | - |
+ | - 商品コード | - | テキスト（表示のみ） | - |
+ | - 商品名 | - | テキスト（表示のみ） | - |
+ | - 発注数量 | - | 数値（表示のみ） | - |
+ | - 単価 | - | 数値（表示のみ） | カンマ区切り |
+ | - 金額 | - | 数値（表示のみ） | カンマ区切り |
+ | 合計金額 | - | 数値（表示のみ） | カンマ区切り |
+ | 依頼コメント | - | テキスト（表示のみ） | - |
+ | 却下理由 | ○ | テキストエリア | 最大500文字 |
+ | 却下ボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. 表示データ
+    - データ表示整合性チェック
+    - 表示データの完全性チェック
+ 2. 却下理由
+    - 必須入力チェック
+    - 文字数チェック（最大500文字）
+ 3. 却下操作
+    - ユーザー権限チェック
+    - 承認権限チェック
+    - 発注状況チェック（承認依頼中のみ可能）
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | データ取得エラー | 「発注データの取得に失敗しました」 |
+ | 却下理由未入力 | 「却下理由を入力してください」 |
+ | 却下理由文字数超過 | 「却下理由は500文字以内で入力してください」 |
+ | 承認権限エラー | 「この発注データの承認権限がありません」 |
+ | 却下不可 | 「この発注データは却下できません」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 却下ボタン押下（成功時） | 発注状況照会画面（完了メッセージ表示） |
+ | 却下ボタン押下（失敗時） | 同画面（エラーメッセージ表示） |
+ | キャンセルボタン押下 | 発注承認画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

次に、`SCR_062_サプライヤー登録画面`の内容を確認し、更新を行います。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_062_サプライヤー登録画面/062_画面定義書.md

---

`SCR_062_サプライヤー登録画面`の画面定義書を更新します。

---

```diff
  | 出力 | [{table:"suppliers",items:["supplier_name","contact_info","address"]}] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\", \"Navigation.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | サプライヤーコード | - | テキスト（表示のみ） | 自動採番 |
+ | サプライヤー名 | ○ | テキスト入力 | 最大100文字 |
+ | 担当者名 | ○ | テキスト入力 | 最大50文字 |
+ | 連絡先情報 | - | グループ | - |
+ | - 電話番号 | ○ | テキスト入力 | 半角数字、ハイフン可、最大15文字 |
+ | - メールアドレス | ○ | テキスト入力 | メールアドレス形式、最大100文字 |
+ | - FAX番号 | - | テキスト入力 | 半角数字、ハイフン可、最大15文字 |
+ | 住所情報 | - | グループ | - |
+ | - 郵便番号 | ○ | テキスト入力 | 半角数字、ハイフン必須、7文字 |
+ | - 都道府県 | ○ | ドロップダウン | 都道府県一覧から選択 |
+ | - 市区町村 | ○ | テキスト入力 | 最大50文字 |
+ | - 番地・建物名 | ○ | テキスト入力 | 最大100文字 |
+ | 取引開始日 | ○ | 日付入力 | YYYY/MM/DD形式 |
+ | 支払条件 | ○ | ドロップダウン | 以下から選択：「月末締め翌月末払い」「月末締め翌月15日払い」「15日締め月末払い」 |
+ | 備考 | - | テキストエリア | 最大500文字 |
+ | 登録ボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. サプライヤー名
+    - 必須入力チェック
+    - 文字数チェック（最大100文字）
+    - 重複チェック
+ 2. 担当者名
+    - 必須入力チェック
+    - 文字数チェック（最大50文字）
+ 3. 連絡先情報
+    - 電話番号形式チェック
+    - メールアドレス形式チェック
+    - FAX番号形式チェック（入力時）
+ 4. 住所情報
+    - 郵便番号形式チェック
+    - 必須項目入力チェック
+ 5. 取引開始日
+    - 必須入力チェック
+    - 日付形式チェック
+ 6. 登録操作
+    - ユーザー権限チェック
+    - 必須項目入力済みチェック
+    - データ整合性チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | サプライヤー名未入力 | 「サプライヤー名を入力してください」 |
+ | サプライヤー名文字数超過 | 「サプライヤー名は100文字以内で入力してください」 |
+ | サプライヤー名重複 | 「このサプライヤー名は既に登録されています」 |
+ | 担当者名未入力 | 「担当者名を入力してください」 |
+ | 担当者名文字数超過 | 「担当者名は50文字以内で入力してください」 |
+ | 電話番号形式不正 | 「正しい電話番号形式で入力してください」 |
+ | メールアドレス形式不正 | 「正しいメールアドレス形式で入力してください」 |
+ | FAX番号形式不正 | 「正しいFAX番号形式で入力してください」 |
+ | 郵便番号形式不正 | 「正しい郵便番号形式で入力してください」 |
+ | 住所未入力 | 「住所を入力してください」 |
+ | 取引開始日未入力 | 「取引開始日を入力してください」 |
+ | 取引開始日形式不正 | 「正しい日付形式で入力してください」 |
+ | 支払条件未選択 | 「支払条件を選択してください」 |
+ | 備考文字数超過 | 「備考は500文字以内で入力してください」 |
+ | 登録エラー | 「サプライヤーの登録に失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 登録ボタン押下（成功時） | サプライヤー登録完了画面 |
+ | 登録ボタン押下（失敗時） | 同画面（エラーメッセージ表示） |
+ | キャンセルボタン押下 | サプライヤー一覧画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

最後に、`SCR_063_サプライヤー登録完了画面`の内容を確認し、更新を行います。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_063_サプライヤー登録完了画面/063_画面定義書.md

---

`SCR_063_サプライヤー登録完了画面`の画面定義書を更新します。

---

```diff
  | 出力 | [] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\", \"Navigation.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 完了メッセージ | - | テキスト（表示のみ） | - |
+ | 登録内容表示 | - | テーブル（表示のみ） | - |
+ | - サプライヤーコード | - | テキスト（表示のみ） | - |
+ | - サプライヤー名 | - | テキスト（表示のみ） | - |
+ | - 担当者名 | - | テキスト（表示のみ） | - |
+ | - 連絡先情報 | - | テキスト（表示のみ） | - |
+ | - 住所 | - | テキスト（表示のみ） | - |
+ | - 取引開始日 | - | 日付（表示のみ） | YYYY/MM/DD形式 |
+ | - 支払条件 | - | テキスト（表示のみ） | - |
+ | サプライヤー一覧へボタン | - | ボタン | クリック可能状態であること |
+ | 続けて登録ボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. 表示データ
+    - データ表示整合性チェック
+    - 表示データの完全性チェック
+ 2. ボタン操作
+    - ユーザー権限チェック
+    - ボタンクリック可能状態チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | データ表示エラー | 「登録内容の表示に失敗しました」 |
+ | 画面遷移エラー | 「画面の遷移に失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | サプライヤー一覧へボタン押下 | サプライヤー一覧画面 |
+ | 続けて登録ボタン押下 | サプライヤー登録画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

以上で、指定された8つの画面定義書の更新が完了しました。各画面定義書に以下の4つのセクションを追加しました：

1. 入力項目の詳細仕様
2. 入力値の検証ルール
3. エラーメッセージ一覧
4. 画面遷移

更新した画面定義書：
- `SCR_056_発注書出力画面`
- `SCR_057_発注状況照会画面`
- `SCR_058_発注詳細画面`
- `SCR_059_発注承認依頼画面`
- `SCR_060_発注承認画面`
- `SCR_061_発注却下画面`
- `SCR_062_サプライヤー登録画面`
- `SCR_063_サプライヤー登録完了画面`

すべての更新は`screen_definition_workflow.md`のガイドラインに従って行われ、既存の内容は変更せず、必要なセクションのみを追加しました。各画面の特性に応じて、適切な入力項目、検証ルール、エラーメッセージ、画面遷移を定義しています。

---

_**User**_

@SCR_064_サプライヤー検索画面 @SCR_065_サプライヤー一覧画面 @SCR_066_サプライヤー詳細画面 @SCR_067_過去発注履歴参照画面 @SCR_068_過去発注履歴一覧画面 @SCR_069_納期リマインド @SCR_070_在庫一覧表示画面 @SCR_071_発注状況表示画面 @SCR_072_在庫推移グラフ表示画面 @SCR_073_発注数量グラフ表示画面 をお願いします。引き続き @screen_definition_workflow.md に従ってね。

---

_**Assistant**_

はい、承知しました。まず最初に`SCR_064_サプライヤー検索画面`の内容を確認し、更新を行います。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_064_サプライヤー検索画面/064_画面定義書.md

---

`SCR_064_サプライヤー検索画面`の画面定義書を更新します。

---

```diff
  | 出力 | [] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\", \"Navigation.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | サプライヤー名 | - | テキスト入力 | 最大100文字 |
+ | サプライヤーコード | - | テキスト入力 | 半角英数字、最大20文字 |
+ | 都道府県 | - | ドロップダウン | 都道府県一覧から選択 |
+ | 取引状況 | - | ドロップダウン | 以下から選択：「全て」「取引中」「取引停止」 |
+ | 検索ボタン | - | ボタン | クリック可能状態であること |
+ | クリアボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. サプライヤー名
+    - 文字数チェック（最大100文字）
+ 2. サプライヤーコード
+    - 半角英数字チェック
+    - 文字数チェック（最大20文字）
+ 3. 検索操作
+    - ユーザー権限チェック
+    - 検索条件の組み合わせチェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | サプライヤー名文字数超過 | 「サプライヤー名は100文字以内で入力してください」 |
+ | サプライヤーコード形式不正 | 「サプライヤーコードは半角英数字で入力してください」 |
+ | サプライヤーコード文字数超過 | 「サプライヤーコードは20文字以内で入力してください」 |
+ | 検索条件未入力 | 「検索条件を1つ以上入力してください」 |
+ | データ取得エラー | 「サプライヤーデータの取得に失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 検索ボタン押下 | サプライヤー一覧画面（検索結果表示） |
+ | クリアボタン押下 | 同画面（検索条件クリア） |
+ | キャンセルボタン押下 | サプライヤー一覧画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

次に、`SCR_065_サプライヤー一覧画面`の内容を確認し、更新を行います。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_065_サプライヤー一覧画面/065_画面定義書.md

---

`SCR_065_サプライヤー一覧画面`の画面定義書を更新します。

---

```diff
  | 出力 | [] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\", \"Navigation.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | サプライヤー一覧 | - | テーブル（表示のみ） | ソート可能、ページング機能あり |
+ | - サプライヤーコード | - | テキスト（表示のみ） | - |
+ | - サプライヤー名 | - | テキスト（表示のみ） | - |
+ | - 担当者名 | - | テキスト（表示のみ） | - |
+ | - 電話番号 | - | テキスト（表示のみ） | - |
+ | - メールアドレス | - | テキスト（表示のみ） | - |
+ | - 都道府県 | - | テキスト（表示のみ） | - |
+ | - 取引状況 | - | テキスト（表示のみ） | - |
+ | - 詳細リンク | - | リンク | クリック可能状態であること |
+ | 新規登録ボタン | - | ボタン | クリック可能状態であること |
+ | CSVダウンロードボタン | - | ボタン | クリック可能状態であること |
+ | 検索条件変更ボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. 表示データ
+    - データ表示整合性チェック
+    - 表示データの完全性チェック
+ 2. ボタン操作
+    - ユーザー権限チェック
+    - ボタンクリック可能状態チェック
+ 3. 一覧表示
+    - ページングパラメータの有効性チェック
+    - ソート条件の有効性チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | データ取得エラー | 「サプライヤーデータの取得に失敗しました」 |
+ | CSVダウンロードエラー | 「CSVファイルの生成に失敗しました」 |
+ | ページング処理エラー | 「ページ遷移に失敗しました」 |
+ | ソート処理エラー | 「並び替えに失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 詳細リンク押下 | サプライヤー詳細画面 |
+ | 新規登録ボタン押下 | サプライヤー登録画面 |
+ | CSVダウンロードボタン押下 | ファイルダウンロード |
+ | 検索条件変更ボタン押下 | サプライヤー検索画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

次に、`SCR_066_サプライヤー詳細画面`の内容を確認し、更新を行います。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_066_サプライヤー詳細画面/066_画面定義書.md

---

`SCR_066_サプライヤー詳細画面`の画面定義書を更新します。

---

```diff
  | 出力 | [] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\", \"Navigation.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 基本情報 | - | テーブル（表示のみ） | - |
+ | - サプライヤーコード | - | テキスト（表示のみ） | - |
+ | - サプライヤー名 | - | テキスト（表示のみ） | - |
+ | - 取引開始日 | - | 日付（表示のみ） | YYYY/MM/DD形式 |
+ | - 取引状況 | - | テキスト（表示のみ） | - |
+ | - 支払条件 | - | テキスト（表示のみ） | - |
+ | 担当者情報 | - | テーブル（表示のみ） | - |
+ | - 担当者名 | - | テキスト（表示のみ） | - |
+ | - 部署 | - | テキスト（表示のみ） | - |
+ | - 役職 | - | テキスト（表示のみ） | - |
+ | 連絡先情報 | - | テーブル（表示のみ） | - |
+ | - 電話番号 | - | テキスト（表示のみ） | - |
+ | - メールアドレス | - | テキスト（表示のみ） | - |
+ | - FAX番号 | - | テキスト（表示のみ） | - |
+ | 住所情報 | - | テーブル（表示のみ） | - |
+ | - 郵便番号 | - | テキスト（表示のみ） | - |
+ | - 都道府県 | - | テキスト（表示のみ） | - |
+ | - 市区町村 | - | テキスト（表示のみ） | - |
+ | - 番地・建物名 | - | テキスト（表示のみ） | - |
+ | 取引履歴 | - | テーブル（表示のみ） | 最新5件表示 |
+ | - 発注日 | - | 日付（表示のみ） | YYYY/MM/DD形式 |
+ | - 発注番号 | - | テキスト（表示のみ） | - |
+ | - 発注金額 | - | 数値（表示のみ） | カンマ区切り |
+ | - 発注状況 | - | テキスト（表示のみ） | - |
+ | 編集ボタン | - | ボタン | クリック可能状態であること |
+ | 取引停止ボタン | - | ボタン | 取引中の場合のみ表示 |
+ | 取引再開ボタン | - | ボタン | 取引停止中の場合のみ表示 |
+ 
+ ## 入力値の検証ルール
+ 1. 表示データ
+    - データ表示整合性チェック
+    - 表示データの完全性チェック
+ 2. ボタン操作
+    - ユーザー権限チェック
+    - 取引状況に応じたボタン表示制御
+ 3. 取引状態変更
+    - 取引状態変更権限チェック
+    - 取引状態変更可否チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | データ取得エラー | 「サプライヤーデータの取得に失敗しました」 |
+ | 取引履歴取得エラー | 「取引履歴の取得に失敗しました」 |
+ | 取引停止エラー | 「取引停止処理に失敗しました」 |
+ | 取引再開エラー | 「取引再開処理に失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 編集ボタン押下 | サプライヤー編集画面 |
+ | 取引停止ボタン押下（成功時） | 同画面（完了メッセージ表示） |
+ | 取引停止ボタン押下（失敗時） | 同画面（エラーメッセージ表示） |
+ | 取引再開ボタン押下（成功時） | 同画面（完了メッセージ表示） |
+ | 取引再開ボタン押下（失敗時） | 同画面（エラーメッセージ表示） |
+ | 戻るボタン押下 | サプライヤー一覧画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

次に、`SCR_067_過去発注履歴参照画面`の内容を確認し、更新を行います。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_067_過去発注履歴参照画面/067_画面定義書.md

---

`SCR_067_過去発注履歴参照画面`の画面定義書を更新します。

---

```diff
  | 出力 | [] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\", \"Navigation.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 商品情報 | - | グループ | - |
+ | - 商品コード | - | テキスト入力 | 半角英数字、最大20文字 |
+ | - 商品名 | - | テキスト入力 | 最大100文字 |
+ | サプライヤー情報 | - | グループ | - |
+ | - サプライヤーコード | - | テキスト入力 | 半角英数字、最大20文字 |
+ | - サプライヤー名 | - | テキスト入力 | 最大100文字 |
+ | 期間指定 | - | グループ | - |
+ | - 開始日 | - | 日付入力 | YYYY/MM/DD形式 |
+ | - 終了日 | - | 日付入力 | YYYY/MM/DD形式 |
+ | 発注状況 | - | ドロップダウン | 以下から選択：「全て」「未承認」「承認済」「発注済」「納品済」「キャンセル」 |
+ | 検索ボタン | - | ボタン | クリック可能状態であること |
+ | クリアボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. 商品コード
+    - 半角英数字チェック
+    - 文字数チェック（最大20文字）
+ 2. サプライヤーコード
+    - 半角英数字チェック
+    - 文字数チェック（最大20文字）
+ 3. 期間指定
+    - 日付形式チェック
+    - 日付範囲の妥当性チェック（開始日 ≤ 終了日）
+ 4. 検索操作
+    - ユーザー権限チェック
+    - 検索条件の組み合わせチェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | 商品コード形式不正 | 「商品コードは半角英数字で入力してください」 |
+ | 商品コード文字数超過 | 「商品コードは20文字以内で入力してください」 |
+ | サプライヤーコード形式不正 | 「サプライヤーコードは半角英数字で入力してください」 |
+ | サプライヤーコード文字数超過 | 「サプライヤーコードは20文字以内で入力してください」 |
+ | 日付形式不正 | 「正しい日付形式で入力してください」 |
+ | 日付範囲不正 | 「終了日は開始日以降の日付を指定してください」 |
+ | 検索条件未入力 | 「検索条件を1つ以上入力してください」 |
+ | データ取得エラー | 「発注履歴データの取得に失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 検索ボタン押下 | 過去発注履歴一覧画面（検索結果表示） |
+ | クリアボタン押下 | 同画面（検索条件クリア） |
+ | キャンセルボタン押下 | 発注状況照会画面 |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

次に、`SCR_068_過去発注履歴一覧画面`の内容を確認し、更新を行います。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_068_過去発注履歴一覧画面/068_画面定義書.md

---

`SCR_068_過去発注履歴一覧画面`の画面定義書を更新します。

---



---

申し訳ありません。ファイルの更新に失敗したようです。もう一度試してみます。

---

```diff
  | 入力 | [{table:"orders",items:["order_id","product_code","order_quantity","supplier","delivery_date","order_date","order_status","order_supplier"]}] |
  | 出力 | [] |
- | 共通コンポーネントファイル | [\"Header.tsx\", \"Footer.tsx\", \"Navigation.tsx\"] |
+ | 共通コンポーネントファイル | ["Header.tsx", "Footer.tsx", "Navigation.tsx"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 検索条件表示 | - | テーブル（表示のみ） | - |
+ | - 商品情報 | - | テキスト（表示のみ） | - |
+ | - サプライヤー情報 | - | テキスト（表示のみ） | - |
+ | - 期間 | - | テキスト（表示のみ） | - |
+ | - 発注状況 | - | テキスト（表示のみ） | - |
+ | 発注履歴一覧 | - | テーブル（表示のみ） | ソート可能、ページング機能あり |
+ | - 発注日 | - | 日付（表示のみ） | YYYY/MM/DD形式 |
+ | - 発注番号 | - | テキスト（表示のみ） | - |
+ | - 商品コード | - | テキスト（表示のみ） | - |
+ | - 商品名 | - | テキスト（表示のみ） | - |
+ | - サプライヤー名 | - | テキスト（表示のみ） | - |
+ | - 発注数量 | - | 数値（表示のみ） | カンマ区切り |
+ | - 単価 | - | 数値（表示のみ） | カンマ区切り |
+ | - 合計金額 | - | 数値（表示のみ） | カンマ区切り |
+ | - 発注状況 | - | テキスト（表示のみ） | - |
+ | - 詳細リンク | - | リンク | クリック可能状態であること |
+ | 検索条件変更ボタン | - | ボタン | クリック可能状態であること |
+ | CSVダウンロードボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. 表示データ
+    - データ表示整合性チェック
+    - 表示データの完全性チェック
+ 2. ボタン操作
+    - ユーザー権限チェック
+    - ボタンクリック可能状態チェック
+ 3. 一覧表示
+    - ページングパラメータの有効性チェック
+    - ソート条件の有効性チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | データ取得エラー | 「発注履歴データの取得に失敗しました」 |
+ | CSVダウンロードエラー | 「CSVファイルの生成に失敗しました」 |
+ | ページング処理エラー | 「ページ遷移に失敗しました」 |
+ | ソート処理エラー | 「並び替えに失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 詳細リンク押下 | 発注詳細画面 |
+ | 検索条件変更ボタン押下 | 過去発注履歴参照画面 |
+ | CSVダウンロードボタン押下 | ファイルダウンロード |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

次に、`SCR_069_納期リマインド`の内容を確認し、更新を行います。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_069_納期リマインド/069_画面定義書.md

---

`SCR_069_納期リマインド`の画面定義書を更新します。

---

```diff
  | 出力 | [] |
  | 共通コンポーネントファイル | [] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | リマインド設定 | - | グループ | - |
+ | - リマインド日数 | ○ | 数値入力 | 1-30の整数 |
+ | - 通知方法 | ○ | チェックボックス | 以下から複数選択：「システム通知」「メール」 |
+ | - 通知先メールアドレス | △ | テキスト入力 | メール通知選択時は必須、メールアドレス形式 |
+ | リマインド一覧 | - | テーブル（表示のみ） | ソート可能、ページング機能あり |
+ | - 発注番号 | - | テキスト（表示のみ） | - |
+ | - 商品コード | - | テキスト（表示のみ） | - |
+ | - 商品名 | - | テキスト（表示のみ） | - |
+ | - サプライヤー名 | - | テキスト（表示のみ） | - |
+ | - 納期 | - | 日付（表示のみ） | YYYY/MM/DD形式 |
+ | - 残日数 | - | 数値（表示のみ） | - |
+ | - 発注状況 | - | テキスト（表示のみ） | - |
+ | - 詳細リンク | - | リンク | クリック可能状態であること |
+ | 設定保存ボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. リマインド日数
+    - 必須入力チェック
+    - 数値範囲チェック（1-30）
+ 2. 通知方法
+    - 必須選択チェック
+    - 少なくとも1つ以上選択チェック
+ 3. 通知先メールアドレス
+    - メール通知選択時の必須入力チェック
+    - メールアドレス形式チェック
+ 4. 設定保存操作
+    - ユーザー権限チェック
+    - 入力値の整合性チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | リマインド日数未入力 | 「リマインド日数を入力してください」 |
+ | リマインド日数範囲外 | 「リマインド日数は1から30の間で指定してください」 |
+ | 通知方法未選択 | 「通知方法を1つ以上選択してください」 |
+ | メールアドレス未入力 | 「メール通知を選択した場合は、メールアドレスを入力してください」 |
+ | メールアドレス形式不正 | 「正しいメールアドレス形式で入力してください」 |
+ | データ取得エラー | 「リマインド対象データの取得に失敗しました」 |
+ | 設定保存エラー | 「リマインド設定の保存に失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 詳細リンク押下 | 発注詳細画面 |
+ | 設定保存ボタン押下（成功時） | 同画面（完了メッセージ表示） |
+ | 設定保存ボタン押下（失敗時） | 同画面（エラーメッセージ表示） |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

次に、`SCR_070_在庫一覧表示画面`の内容を確認し、更新を行います。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_070_在庫一覧表示画面/070_画面定義書.md

---

`SCR_070_在庫一覧表示画面`の画面定義書を更新します。

---

```diff
  | 出力 | [] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Sidebar.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 絞り込み条件 | - | グループ | - |
+ | - 倉庫 | - | ドロップダウン | 登録済み倉庫から選択 |
+ | - 商品カテゴリー | - | ドロップダウン | 登録済み商品カテゴリーから選択 |
+ | - 在庫状態 | - | ドロップダウン | 以下から選択：「全て」「在庫過多」「適正在庫」「在庫不足」 |
+ | 在庫一覧 | - | テーブル（表示のみ） | ソート可能、ページング機能あり |
+ | - 商品コード | - | テキスト（表示のみ） | - |
+ | - 商品名 | - | テキスト（表示のみ） | - |
+ | - 在庫拠点 | - | テキスト（表示のみ） | - |
+ | - 在庫数 | - | 数値（表示のみ） | カンマ区切り |
+ | - 在庫上限 | - | 数値（表示のみ） | カンマ区切り |
+ | - 在庫下限 | - | 数値（表示のみ） | カンマ区切り |
+ | - 在庫状態 | - | テキスト（表示のみ） | - |
+ | - 詳細リンク | - | リンク | クリック可能状態であること |
+ | 絞り込みボタン | - | ボタン | クリック可能状態であること |
+ | クリアボタン | - | ボタン | クリック可能状態であること |
+ | CSVダウンロードボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. 表示データ
+    - データ表示整合性チェック
+    - 表示データの完全性チェック
+ 2. 絞り込み条件
+    - 選択値の有効性チェック
+    - 組み合わせの妥当性チェック
+ 3. ボタン操作
+    - ユーザー権限チェック
+    - ボタンクリック可能状態チェック
+ 4. 一覧表示
+    - ページングパラメータの有効性チェック
+    - ソート条件の有効性チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | データ取得エラー | 「在庫データの取得に失敗しました」 |
+ | 倉庫データ取得エラー | 「倉庫データの取得に失敗しました」 |
+ | カテゴリーデータ取得エラー | 「商品カテゴリーの取得に失敗しました」 |
+ | CSVダウンロードエラー | 「CSVファイルの生成に失敗しました」 |
+ | ページング処理エラー | 「ページ遷移に失敗しました」 |
+ | ソート処理エラー | 「並び替えに失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 詳細リンク押下 | 在庫詳細画面 |
+ | 絞り込みボタン押下 | 同画面（絞り込み結果表示） |
+ | クリアボタン押下 | 同画面（絞り込み条件クリア） |
+ | CSVダウンロードボタン押下 | ファイルダウンロード |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

次に、`SCR_071_発注状況表示画面`の内容を確認し、更新を行います。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_071_発注状況表示画面/071_画面定義書.md

---

`SCR_071_発注状況表示画面`の画面定義書を更新します。

---

```diff
  | 出力 | [] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Sidebar.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 絞り込み条件 | - | グループ | - |
+ | - サプライヤー | - | ドロップダウン | 登録済みサプライヤーから選択 |
+ | - 商品カテゴリー | - | ドロップダウン | 登録済み商品カテゴリーから選択 |
+ | - 発注状況 | - | ドロップダウン | 以下から選択：「全て」「未承認」「承認済」「発注済」「納品済」「キャンセル」 |
+ | - 期間指定 | - | グループ | - |
+ | -- 開始日 | - | 日付入力 | YYYY/MM/DD形式 |
+ | -- 終了日 | - | 日付入力 | YYYY/MM/DD形式 |
+ | 発注状況一覧 | - | テーブル（表示のみ） | ソート可能、ページング機能あり |
+ | - 発注ID | - | テキスト（表示のみ） | - |
+ | - 商品コード | - | テキスト（表示のみ） | - |
+ | - 商品名 | - | テキスト（表示のみ） | - |
+ | - 発注数量 | - | 数値（表示のみ） | カンマ区切り |
+ | - 発注先 | - | テキスト（表示のみ） | - |
+ | - 納期予定日 | - | 日付（表示のみ） | YYYY/MM/DD形式 |
+ | - ステータス | - | テキスト（表示のみ） | - |
+ | - 詳細リンク | - | リンク | クリック可能状態であること |
+ | 絞り込みボタン | - | ボタン | クリック可能状態であること |
+ | クリアボタン | - | ボタン | クリック可能状態であること |
+ | CSVダウンロードボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. 表示データ
+    - データ表示整合性チェック
+    - 表示データの完全性チェック
+ 2. 絞り込み条件
+    - 選択値の有効性チェック
+    - 組み合わせの妥当性チェック
+ 3. 期間指定
+    - 日付形式チェック
+    - 日付範囲の妥当性チェック（開始日 ≤ 終了日）
+ 4. ボタン操作
+    - ユーザー権限チェック
+    - ボタンクリック可能状態チェック
+ 5. 一覧表示
+    - ページングパラメータの有効性チェック
+    - ソート条件の有効性チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | データ取得エラー | 「発注状況データの取得に失敗しました」 |
+ | サプライヤーデータ取得エラー | 「サプライヤーデータの取得に失敗しました」 |
+ | カテゴリーデータ取得エラー | 「商品カテゴリーの取得に失敗しました」 |
+ | 日付形式不正 | 「正しい日付形式で入力してください」 |
+ | 日付範囲不正 | 「終了日は開始日以降の日付を指定してください」 |
+ | CSVダウンロードエラー | 「CSVファイルの生成に失敗しました」 |
+ | ページング処理エラー | 「ページ遷移に失敗しました」 |
+ | ソート処理エラー | 「並び替えに失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 詳細リンク押下 | 発注詳細画面 |
+ | 絞り込みボタン押下 | 同画面（絞り込み結果表示） |
+ | クリアボタン押下 | 同画面（絞り込み条件クリア） |
+ | CSVダウンロードボタン押下 | ファイルダウンロード |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

次に、`SCR_072_在庫推移グラフ表示画面`の内容を確認し、更新を行います。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_072_在庫推移グラフ表示画面/072_画面定義書.md

---

`SCR_072_在庫推移グラフ表示画面`の画面定義書を更新します。

---

```diff
  | 出力 | [] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Sidebar.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 商品選択 | ○ | グループ | - |
+ | - 商品コード | ○ | ドロップダウン | 登録済み商品から選択 |
+ | - 商品名 | - | テキスト（表示のみ） | 選択された商品の名称を表示 |
+ | 期間選択 | ○ | グループ | - |
+ | - 開始日 | ○ | 日付入力 | YYYY/MM/DD形式 |
+ | - 終了日 | ○ | 日付入力 | YYYY/MM/DD形式 |
+ | グラフ表示 | - | グループ | - |
+ | - 在庫推移グラフ | - | 折れ線グラフ | - |
+ | - Y軸 | - | 数値（表示のみ） | 在庫数量 |
+ | - X軸 | - | 日付（表示のみ） | 日付 |
+ | - ホバー情報 | - | テキスト（表示のみ） | 日付、在庫数量を表示 |
+ | CSVダウンロードボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. 商品選択
+    - 必須入力チェック
+    - 選択値の有効性チェック
+ 2. 期間選択
+    - 必須入力チェック
+    - 日付形式チェック
+    - 日付範囲の妥当性チェック（開始日 ≤ 終了日）
+    - 期間範囲チェック（最大1年間）
+ 3. グラフ表示
+    - データ表示整合性チェック
+    - データ範囲の妥当性チェック
+ 4. ボタン操作
+    - ユーザー権限チェック
+    - ボタンクリック可能状態チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | 商品未選択 | 「商品を選択してください」 |
+ | 開始日未入力 | 「開始日を入力してください」 |
+ | 終了日未入力 | 「終了日を入力してください」 |
+ | 日付形式不正 | 「正しい日付形式で入力してください」 |
+ | 日付範囲不正 | 「終了日は開始日以降の日付を指定してください」 |
+ | 期間範囲超過 | 「期間は1年以内を指定してください」 |
+ | データ取得エラー | 「在庫データの取得に失敗しました」 |
+ | グラフ描画エラー | 「グラフの描画に失敗しました」 |
+ | CSVダウンロードエラー | 「CSVファイルの生成に失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 商品選択変更 | 同画面（グラフ更新） |
+ | 期間選択変更 | 同画面（グラフ更新） |
+ | CSVダウンロードボタン押下 | ファイルダウンロード |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

次に、`SCR_073_在庫アラート設定画面`の内容を確認し、更新を行います。

---

Could not find file '/Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_073_在庫アラート設定画面/073_画面定義書.md' in the workspace.

---

申し訳ありません。ファイルが見つからないようです。`SCR_073_在庫アラート設定画面`の画面定義書を新規作成します。

---

Cancelled

---

_**User**_

@SCR_073_発注数量グラフ表示画面 をお願いします

---

_**Assistant**_

`SCR_073_発注数量グラフ表示画面`の画面定義書を更新します。まず、現在の内容を確認します。

---

Read file: /Users/ryosuke/Downloads/受託関連/受発注在庫管理システム/3.システム設計/6.画面定義書/SCR_073_発注数量グラフ表示画面/073_画面定義書.md

---

`SCR_073_発注数量グラフ表示画面`の画面定義書を更新します。

---

```diff
  | 出力 | [] |
  | 共通コンポーネントファイル | [\"Header.tsx\", \"Sidebar.tsx\"] |
+ 
+ ## 入力項目の詳細仕様
+ | フィールド | 必須 | 型 | 制限 |
+ |------------|------|-----|------|
+ | 表示期間選択 | ○ | グループ | - |
+ | - 表示単位 | ○ | ラジオボタン | 以下から選択：「月次」「週次」 |
+ | - 期間選択 | ○ | グループ | - |
+ | -- 開始日 | ○ | 日付入力 | YYYY/MM/DD形式 |
+ | -- 終了日 | ○ | 日付入力 | YYYY/MM/DD形式 |
+ | 商品選択 | - | グループ | - |
+ | - 商品カテゴリー | - | ドロップダウン | 登録済み商品カテゴリーから選択 |
+ | - サプライヤー | - | ドロップダウン | 登録済みサプライヤーから選択 |
+ | グラフ表示 | - | グループ | - |
+ | - 発注数量グラフ | - | 棒グラフ | - |
+ | - Y軸 | - | 数値（表示のみ） | 発注数量 |
+ | - X軸 | - | テキスト（表示のみ） | 月次/週次の期間表示 |
+ | - ホバー情報 | - | テキスト（表示のみ） | 期間、発注数量を表示 |
+ | CSVダウンロードボタン | - | ボタン | クリック可能状態であること |
+ 
+ ## 入力値の検証ルール
+ 1. 表示単位選択
+    - 必須選択チェック
+    - 選択値の有効性チェック
+ 2. 期間選択
+    - 必須入力チェック
+    - 日付形式チェック
+    - 日付範囲の妥当性チェック（開始日 ≤ 終了日）
+    - 期間範囲チェック（最大2年間）
+ 3. 商品選択
+    - 選択値の有効性チェック
+    - 組み合わせの妥当性チェック
+ 4. グラフ表示
+    - データ表示整合性チェック
+    - データ範囲の妥当性チェック
+ 5. ボタン操作
+    - ユーザー権限チェック
+    - ボタンクリック可能状態チェック
+ 
+ ## エラーメッセージ一覧
+ | エラー内容 | メッセージ |
+ |------------|------------|
+ | 表示単位未選択 | 「表示単位を選択してください」 |
+ | 開始日未入力 | 「開始日を入力してください」 |
+ | 終了日未入力 | 「終了日を入力してください」 |
+ | 日付形式不正 | 「正しい日付形式で入力してください」 |
+ | 日付範囲不正 | 「終了日は開始日以降の日付を指定してください」 |
+ | 期間範囲超過 | 「期間は2年以内を指定してください」 |
+ | データ取得エラー | 「発注数量データの取得に失敗しました」 |
+ | グラフ描画エラー | 「グラフの描画に失敗しました」 |
+ | CSVダウンロードエラー | 「CSVファイルの生成に失敗しました」 |
+ | 権限エラー | 「この機能の利用権限がありません」 |
+ | システムエラー | 「システムエラーが発生しました。管理者に連絡してください」 |
+ 
+ ## 画面遷移
+ | アクション | 遷移先 |
+ |------------|--------|
+ | 表示単位変更 | 同画面（グラフ更新） |
+ | 期間選択変更 | 同画面（グラフ更新） |
+ | 商品カテゴリー選択変更 | 同画面（グラフ更新） |
+ | サプライヤー選択変更 | 同画面（グラフ更新） |
+ | CSVダウンロードボタン押下 | ファイルダウンロード |
+ 
+ ## 更新履歴
+ | 更新日 | 更新内容 | 更新者 |
+ |--------|----------|--------|
+ | 2024/03/19 | 入力項目の詳細仕様・検証ルール・エラーメッセージ・画面遷移情報を追加 | システム開発者 |
  
```

---

これで`SCR_073_発注数量グラフ表示画面`の画面定義書の更新が完了しました。追加した主な内容は以下の通りです：

1. **入力項目の詳細仕様**
   - 表示期間選択（月次/週次）
   - 期間選択（開始日/終了日）
   - 商品選択（カテゴリー/サプライヤー）
   - グラフ表示の詳細仕様
   - CSVダウンロード機能

2. **入力値の検証ルール**
   - 表示単位選択の検証
   - 期間選択の検証（2年以内制限）
   - 商品選択の検証
   - グラフ表示の検証
   - ボタン操作の検証

3. **エラーメッセージ一覧**
   - 各入力項目に対応するエラーメッセージ
   - システムエラーメッセージ

4. **画面遷移情報**
   - 各選択変更時のグラフ更新
   - CSVダウンロード機能

これらの追加により、発注数量グラフ表示画面の仕様がより詳細に定義され、ユーザーの操作性と機能性が向上しました。

---



---

